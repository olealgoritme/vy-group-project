__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var s=0;s<n.length;s++){var o=n[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=r(d[0]),o=r(d[1]),u=r(d[2]),c=function(){return!0},l=(function(){function l(n){t(this,l),this._subscriber=n||new o}var b,v,p;return b=l,(v=[{key:"addListener",value:function(t,n,o){return this._subscriber.addSubscription(t,new s(this,this._subscriber,n,o))}},{key:"once",value:function(t,n,s){var o=this;return this.addListener(t,function(){o.removeCurrentListener();for(var t=arguments.length,u=new Array(t),c=0;c<t;c++)u[c]=arguments[c];n.apply(s,u)})}},{key:"removeAllListeners",value:function(t){this._subscriber.removeAllSubscriptions(t)}},{key:"removeCurrentListener",value:function(){u(!!this._currentSubscription,'Not in an emitting cycle; there is no current subscription'),this.removeSubscription(this._currentSubscription)}},{key:"removeSubscription",value:function(t){u(t.emitter===this,'Subscription does not belong to this emitter.'),this._subscriber.removeSubscription(t)}},{key:"listeners",value:function(t){var n=this._subscriber.getSubscriptionsForType(t);return n?n.filter(c).map(function(t){return t.listener}):[]}},{key:"emit",value:function(t){var n=this._subscriber.getSubscriptionsForType(t);if(n){for(var s=0,o=n.length;s<o;s++){var u=n[s];u&&u.listener&&(this._currentSubscription=u,u.listener.apply(u.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}}},{key:"removeListener",value:function(t,n){var s=this._subscriber.getSubscriptionsForType(t);if(s)for(var o=0,u=s.length;o<u;o++){var c=s[o];c&&c.listener===n&&c.remove()}}}])&&n(b.prototype,v),p&&n(b,p),l})();m.exports=l},27,[28,30,11]);