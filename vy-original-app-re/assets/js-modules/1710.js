__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.showInstallAppAlert=e.parseVippsUrlCallback=e.isVippsCallback=e.canOpenVipps=void 0;var t=r(d[0]),n=c(r(d[1])),s=r(d[2]),o=r(d[3]),l=r(d[4]),u=c(r(d[5]));function c(t){return t&&t.__esModule?t:{default:t}}var p=100,_=202;e.canOpenVipps=function(){return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t.Linking.canOpenURL('vipps://'));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}})};e.isVippsCallback=function(t){return'/order-confirmation/vipps'===new n.default(decodeURIComponent(t),!0).pathname};e.parseVippsUrlCallback=function(t,s){var c=new n.default(decodeURIComponent(t),!0).query,C=c.status,f=c.errorMessage;if(!C){var P="Missing status from Vipps. Optional error: "+f,S={source:'VIPPS_CALLBACK_RESPONSE_VALIDITY_CHECK',orderId:s,status:C,error:P,url:t};return l.remoteLogger.error(l.sources.VIPPS,'Callback response validity check',{orderId:s,error:P,logData:S}),(0,o.trackPaymentFlowSilently)({source:'VIPPS_CALLBACK_RESPONSE_VALIDITY_CHECK',orderId:s,status:C,error:P,url:t}),{didError:!0,message:(0,u.default)('unable_to_parse_callback')}}var A=p,I=_,L=parseInt(C);return L===A?((0,o.trackPaymentFlowSilently)({source:'VIPPS_CALLBACK_SUCCESS',error:f,orderId:s,status:C,url:t}),{success:!0}):L===I?((0,o.trackPaymentFlowSilently)({source:'VIPPS_CALLBACK_USER_CANCELLED',error:f,orderId:s,status:C,url:t}),{didError:!0,message:(0,u.default)('cancelled_by_user')}):((0,o.trackPaymentFlowSilently)({source:'VIPPS_CALLBACK_UNEXPECTED_STATUS',error:f,orderId:s,status:C,url:t}),{didError:!0,message:(0,u.default)('general_error')+' '+C})};e.showInstallAppAlert=function(){var n=s.APP_STORE_URLS.vipps;t.Alert.alert('Vipps',(0,u.default)('show_in_app_store'),[{text:(0,u.default)('no'),style:'cancel'},{text:(0,u.default)('yes'),onPress:function(){return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,regeneratorRuntime.awrap(t.Linking.openURL(n));case 3:s.next=8;break;case 5:s.prev=5,s.t0=s.catch(0),console.log('Unable to show Vipps in the AppStore');case 8:case"end":return s.stop()}},null,null,[[0,5]])}}])}},1710,[10,1711,414,642,633,1714]);