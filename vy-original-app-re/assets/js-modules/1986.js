__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t=r(d[0]),n=r(d[1]),o=(function(){function o(t){this._limit=t,this._buffer=[]}return o.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},o.prototype.add=function(o){var u=this;return this.isReady()?(-1===this._buffer.indexOf(o)&&this._buffer.push(o),o.then(function(){return u.remove(o)}).then(null,function(){return u.remove(o).then(null,function(){})}),o):n.SyncPromise.reject(new t.SentryError('Not adding Promise due to buffer limit reached.'))},o.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},o.prototype.length=function(){return this._buffer.length},o.prototype.drain=function(t){var o=this;return new n.SyncPromise(function(u){var f=setTimeout(function(){t&&t>0&&u(!1)},t);n.SyncPromise.all(o._buffer).then(function(){clearTimeout(f),u(!0)}).then(null,function(){u(!0)})})},o})();e.PromiseBuffer=o},1986,[1977,1987]);