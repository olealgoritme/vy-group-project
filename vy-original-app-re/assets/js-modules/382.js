__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Q(r(d[0])),n=r(d[1]),o=J(r(d[2])),u=J(r(d[3])),s=r(d[4]),c=r(d[5]),l=r(d[6]),f=r(d[7]),p=J(r(d[8])),v=J(r(d[9])),h=J(r(d[10])),S=J(r(d[11])),b=J(r(d[12])),y=r(d[13]),O=Q(r(d[14])),k=r(d[15]),N=J(r(d[16])),P=J(r(d[17])),E=J(r(d[18])),w=J(r(d[19])),M=J(r(d[20])),R=J(r(d[21])),_=J(r(d[22])),T=J(r(d[23])),L=J(r(d[24])),j=J(r(d[25])),x=J(r(d[26])),I=J(r(d[27])),A=J(r(d[28])),C=r(d[29]),B=r(d[30]),D=r(d[31]),U=r(d[32]),F=r(d[33]),W=r(d[34]),q=r(d[35]),V=r(d[36]),X=r(d[37]),H=r(d[38]),z=J(r(d[39])),G=r(d[40]);function J(t){return t&&t.__esModule?t:{default:t}}function K(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return K=function(){return t},t}function Q(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=K();if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var c=u?Object.getOwnPropertyDescriptor(t,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=t[s]}return o.default=t,n&&n.set(t,o),o}function Y(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Z(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&ne(t,n)}function ne(t,n){return(ne=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var ae=n.NativeModules.PushBridge,oe=new n.NativeEventEmitter(ae),re=function(n){return(0,c.createBottomTabNavigator)({BookingStack:{screen:p.default,path:'departure'},LocalOperatorsStack:{screen:v.default,path:'local-operators',navigationOptions:{tabBarLabel:function(n){var o=n.focused;return t.createElement(B.LocalOperatorsLabel,{focused:o})},tabBarIcon:function(n){var o=n.focused;return t.createElement(D.LocalOperatorTabIcon,{focused:o})}}},TicketsStack:{screen:h.default,path:'ticket'},FavoritesStack:{screen:S.default,path:'favoritter'},ProfileStack:{screen:b.default,path:'profile'}},{initialRouteName:n&&n.routeName,animationEnabled:!0,defaultNavigationOptions:(0,C.getTabDefaultNavigationOptions)()})},ie=(0,l.createStackNavigator)({DepartureDetailsScreen:P.default,AccommodationChooser:_.default,PriceOptions:E.default,SeatReservationBusScreen:w.default,SeatSummaryBusScreen:M.default,AddonsScreen:R.default,BookingLoginScreen:T.default,OrderConfirmation:L.default,NewOrderConfirmationScreen:j.default,NetsTerminal:x.default,VippsPaymentScreen:I.default,Receipt:A.default},{headerMode:'none',defaultNavigationOptions:(0,s.navigationOptionsWithDefaults)({gesturesEnabled:!0})}),ue=(0,y.createNewProfileStackNavigator)(),se=(0,U.createSeatReservationModalStackNavigator)(),ce=(0,F.createPeriodTicketBookingModalStackNavigator)(),le=(0,W.createTaxiStackNavigator)(),fe=(0,f.createSwitchNavigator)({BookingModal:ie,NewProfileModal:ue,SeatReservationModal:se,PeriodTicketBookingModal:ce,TaxiStack:le},{defaultNavigationOptions:(0,s.navigationOptionsWithDefaults)({gesturesEnabled:!1})}),de=function(t){return(0,l.createStackNavigator)({TabNavigator:{screen:re(t),path:''},ModalSwitchNavigator:fe},{headerMode:'none',mode:'modal',defaultNavigationOptions:(0,s.navigationOptionsWithDefaults)({gesturesEnabled:!1})})},pe=(function(n){function u(t){var n,o,s;return Y(this,u),o=this,(n=!(s=$(u).call(this,t))||"object"!=typeof s&&"function"!=typeof s?ee(o):s).navigator=null,n.pushEventSubscription=void 0,n.state={isLoading:!0,initialRoute:void 0},n.navigateToRouteFromPushAction=n.navigateToRouteFromPushAction.bind(ee(n)),n}var s,c,l;return te(u,t.Component),s=u,(c=[{key:"componentDidMount",value:function(){var t,n,u,s=this;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return this.pushEventSubscription=oe.addListener("PUSH_RECEIVED",function(t){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t){o.next=5;break}return o.next=3,regeneratorRuntime.awrap((0,q.parsePushAction)(t));case 3:n=o.sent,s.navigateToRouteFromPushAction(n);case 5:case"end":return o.stop()}})}),(0,O.default)(this.props),c.next=4,regeneratorRuntime.awrap((0,O.loadAppState)());case 4:return(t=(0,G.getUserId)())&&(z.default.setUserContext(t),(0,o.default)().setUserId(t)),c.next=8,regeneratorRuntime.awrap((0,V.getLastUsedTabName)());case 8:n=c.sent,u=n&&{routeName:n},this.setState({isLoading:!1,initialRoute:u});case 11:case"end":return c.stop()}},null,this)}},{key:"componentWillUnmount",value:function(){this.pushEventSubscription&&(this.pushEventSubscription.remove(),this.pushEventSubscription=void 0)}},{key:"componentDidUpdate",value:function(t){var n=this,o=!t.loginState.isLoggedIn&&this.props.loginState.isLoggedIn,u=t.loginState.isLoggedIn&&!this.props.loginState.isLoggedIn;o&&this.props.loginState.isLoggedIn?z.default.setUserContext(this.props.loginState.userProfile.userId):u&&(z.default.removeUserContext(),setTimeout(function(){(0,H.resetEverythingAction)(n.navigator)}))}},{key:"navigateToRouteFromPushAction",value:function(t){var n=this;setTimeout(function(){var o=f.NavigationActions.navigate(t);n.navigator?n.navigator.dispatch(o):n.navigateToRouteFromPushAction(t)},250)}},{key:"render",value:function(){var n=this;if(this.state.isLoading)return t.createElement(N.default,null);var o=ge(this.state.initialRoute);return t.createElement(o,{uriPrefix:(this.props.uriPrefix||'nsb')+"://",onNavigationStateChange:k.handleNavigationStateChange,screenProps:this.props,ref:function(t){return n.navigator=t}})}}])&&Z(s.prototype,c),l&&Z(s,l),u})(),ve=null;function ge(t){return ve||(ve=(0,f.createAppContainer)(de(t)))}var he={checkFrequency:u.default.CheckFrequency.ON_APP_RESUME,installMode:u.default.InstallMode.ON_NEXT_RESUME,mandatoryInstallMode:u.default.InstallMode.ON_NEXT_RESUME,minimumBackgroundDuration:600},me=(0,u.default)(he)((0,X.withLoginState)(pe));e.default=me},382,[7,10,383,406,414,417,577,435,604,1510,1542,1777,1815,1491,1863,1867,1869,1870,1898,1702,1738,1739,1900,1908,1909,1704,1719,1709,1705,1914,1919,1920,1542,1921,1927,1963,1915,637,1701,1964,626]);