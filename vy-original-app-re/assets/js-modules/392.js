__d(function(g,r,i,a,m,e,d){'use strict';function t(t,c){return u(t)||o(t,c)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,n){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],u=!0,c=!1,f=void 0;try{for(var l,s=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(u=(l=s.next()).done)&&(o.push(l.value),!n||o.length!==n);u=!0);}catch(t){c=!0,f=t}finally{try{u||null==s.return||s.return()}finally{if(c)throw f}}return o}}function u(t){if(Array.isArray(t))return t}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function s(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}function v(t){var n="function"==typeof Map?new Map:void 0;return(v=function(t){if(null===t||(o=t,-1===Function.toString.call(o).indexOf("[native code]")))return t;var o;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,u)}function u(){return y(t,arguments,b(this).constructor)}return u.prototype=Object.create(t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h(u,t)})(t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function y(t,n,o){return(y=p()?Reflect.construct:function(t,n,o){var u=[null];u.push.apply(u,n);var c=new(Function.bind.apply(t,u));return o&&h(c,o.prototype),c}).apply(null,arguments)}function h(t,n){return(h=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,'__esModule',{value:!0});var w=(function(t){var n,o,u;function p(t){var n;c(this,p);var o,u,l=p.format(t);o=this,n=!(u=b(p).call(this,l))||"object"!=typeof u&&"function"!=typeof u?f(o):u;var s=t.data,v=t.path,y=t.value,h=t.reason,w=t.type,j=t.errors,E=void 0===j?[]:j;return n.data=s,n.path=v,n.value=y,n.reason=h,n.type=w,n.errors=E,E.length||E.push(f(n)),Error.captureStackTrace?Error.captureStackTrace(f(n),n.constructor):n.stack=(new Error).stack,n}return s(p,v(TypeError)),n=p,u=[{key:"format",value:function(t){var n=t.type,o=t.path,u=t.value;return"Expected a value of type `"+n+"`"+(o.length?" for `"+o.join('.')+"`":'')+" but received `"+JSON.stringify(u)+"`."}}],(o=null)&&l(n.prototype,o),u&&l(n,u),p})(),j=Object.prototype.toString,E=function(t){if(void 0===t)return'undefined';if(null===t)return'null';var n=typeof t;if('boolean'===n)return'boolean';if('string'===n)return'string';if('number'===n)return'number';if('symbol'===n)return'symbol';if('function'===n)return _(t)?'generatorfunction':'function';if(O(t))return'array';if(T(t))return'buffer';if(P(t))return'arguments';if(k(t))return'date';if(I(t))return'error';if(A(t))return'regexp';switch(S(t)){case'Symbol':return'symbol';case'Promise':return'promise';case'WeakMap':return'weakmap';case'WeakSet':return'weakset';case'Map':return'map';case'Set':return'set';case'Int8Array':return'int8array';case'Uint8Array':return'uint8array';case'Uint8ClampedArray':return'uint8clampedarray';case'Int16Array':return'int16array';case'Uint16Array':return'uint16array';case'Int32Array':return'int32array';case'Uint32Array':return'uint32array';case'Float32Array':return'float32array';case'Float64Array':return'float64array'}if(x(t))return'generator';switch(n=j.call(t)){case'[object Object]':return'object';case'[object Map Iterator]':return'mapiterator';case'[object Set Iterator]':return'setiterator';case'[object String Iterator]':return'stringiterator';case'[object Array Iterator]':return'arrayiterator'}return n.slice(8,-1).toLowerCase().replace(/\s/g,'')};function S(t){return t.constructor?t.constructor.name:null}function O(t){return Array.isArray?Array.isArray(t):t instanceof Array}function I(t){return t instanceof Error||'string'==typeof t.message&&t.constructor&&'number'==typeof t.constructor.stackTraceLimit}function k(t){return t instanceof Date||'function'==typeof t.toDateString&&'function'==typeof t.getDate&&'function'==typeof t.setDate}function A(t){return t instanceof RegExp||'string'==typeof t.flags&&'boolean'==typeof t.ignoreCase&&'boolean'==typeof t.multiline&&'boolean'==typeof t.global}function _(t,n){return'GeneratorFunction'===S(t)}function x(t){return'function'==typeof t.throw&&'function'==typeof t.return&&'function'==typeof t.next}function P(t){try{if('number'==typeof t.length&&'function'==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf('callee'))return!0}return!1}function T(t){return!(!t.constructor||'function'!=typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var R='@@__STRUCT__@@',D='@@__KIND__@@';function M(t){return!(!t||!t[R])}function N(t,n){return'function'==typeof t?t(n):t}var C=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])}return t},F=function t(n,o,u){c(this,t),this.name=n,this.type=o,this.validate=u};function U(t,n,o){if(M(t))return t[D];if(t instanceof F)return t;switch(E(t)){case'array':return t.length>1?K(t,n,o):W(t,n,o);case'function':return J(t,n,o);case'object':return B(t,n,o);case'string':var u,c=!0;if(t.endsWith('?')&&(c=!1,t=t.slice(0,-1)),t.includes('|'))u=q(t.split(/\s*\|\s*/g),n,o);else if(t.includes('&')){u=H(t.split(/\s*&\s*/g),n,o)}else u=G(t,n,o);return c||(u=L(u,void 0,o)),u}throw new Error("Invalid schema: "+t)}function z(t,n,o){if('array'!==E(t))throw new Error("Invalid schema: "+t);var u=t.map(function(t){try{return JSON.stringify(t)}catch(n){return String(t)}}).join(' | ');return new F('enum',u,function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(n);return t.includes(o)?[void 0,o]:[{data:o,path:[],value:o,type:u}]})}function J(t,n,o){if('function'!==E(t))throw new Error("Invalid schema: "+t);return new F('function',"<function>",function(){var o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(n),c=arguments.length>1?arguments[1]:void 0,f=t(u,c),l={path:[],reason:null};switch(E(f)){case'boolean':o=f;break;case'string':o=!1,l.reason=f;break;case'object':o=!1,l=C({},l,f);break;default:throw new Error("Invalid result: "+f)}return o?[void 0,u]:[C({type:"<function>",value:u,data:u},l)]})}function W(n,o,u){if('array'!==E(n)||1!==n.length)throw new Error("Invalid schema: "+n);var c=G('array',void 0,u),f=U(n[0],void 0,u),l="["+f.type+"]";return new F('list',l,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=t(c.validate(n),2),s=u[0],v=u[1];if(s)return s.type=l,[s];n=v;for(var p=[],y=[],h=function(o){var u=n[o],c=t(f.validate(u),2),l=c[0],s=c[1];if(l)return(l.errors||[l]).forEach(function(t){t.path=[o].concat(t.path),t.data=n,p.push(t)}),"continue";y[o]=s},b=0;b<n.length;b++)h(b);return p.length?[C({},p[0],{errors:p})]:[void 0,y]})}function B(n,o,u){if('object'!==E(n))throw new Error("Invalid schema: "+n);var c=G('object',void 0,u),f=[],l={};for(var s in n){f.push(s);var v=U(n[s],void 0,u);l[s]=v}var p="{"+f.join()+"}";return new F('object',p,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=t(c.validate(n),1)[0];if(u)return u.type=p,[u];var f=[],s={},v=Object.keys(n),y=Object.keys(l);return new Set(v.concat(y)).forEach(function(u){var c=n[u],v=l[u];if(void 0===c&&(c=N(o&&o[u],n)),v){var p=t(v.validate(c,n),2),y=p[0],h=p[1];y?(y.errors||[y]).forEach(function(t){t.path=[u].concat(t.path),t.data=n,f.push(t)}):(u in n||void 0!==h)&&(s[u]=h)}else{var b={data:n,path:[u],value:c};f.push(b)}}),f.length?[C({},f[0],{errors:f})]:[void 0,s]})}function L(t,n,o){return q([t,'undefined'],n,o)}function G(n,o,u){if('string'!==E(n))throw new Error("Invalid schema: "+n);var c=u.types[n];if('function'!==E(c))throw new Error("Invalid type: "+n);var f=J(c,o),l=n;return new F('scalar',l,function(n){var o=t(f.validate(n),2),u=o[0],c=o[1];return u?(u.type=l,[u]):[void 0,c]})}function K(n,o,u){if('array'!==E(n))throw new Error("Invalid schema: "+n);var c=n.map(function(t){return U(t,void 0,u)}),f=G('array',void 0,u),l="["+c.map(function(t){return t.type}).join()+"]";return new F('tuple',l,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=t(f.validate(n),1)[0];if(u)return u.type=l,[u];for(var s=[],v=[],p=Math.max(n.length,c.length),y=function(o){var u=c[o],f=n[o];if(!u){var l={data:n,path:[o],value:f};return v.push(l),"continue"}var p=t(u.validate(f),2),y=p[0],h=p[1];if(y)return(y.errors||[y]).forEach(function(t){t.path=[o].concat(t.path),t.data=n,v.push(t)}),"continue";s[o]=h},h=0;h<p;h++)y(h);return v.length?[C({},v[0],{errors:v})]:[void 0,s]})}function q(n,o,u){if('array'!==E(n))throw new Error("Invalid schema: "+n);var c=n.map(function(t){return U(t,void 0,u)}),f=c.map(function(t){return t.type}).join(' | ');return new F('union',f,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=[],l=c,s=Array.isArray(l),v=0;for(l=s?l:l["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(s){if(v>=l.length)break;p=l[v++]}else{if((v=l.next()).done)break;p=v.value}var y=t(p.validate(n),2),h=y[0],b=y[1];if(!h)return[void 0,b];u.push(h)}return u[0].type=f,u})}function H(n,o,u){if('array'!==E(n))throw new Error("Invalid schema: "+n);var c=n.map(function(t){return U(t,void 0,u)}),f=c.map(function(t){return t.type}).join(' & ');return new F('intersection',f,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=c,l=Array.isArray(u),s=0;for(u=l?u:u["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var v;if(l){if(s>=u.length)break;v=u[s++]}else{if((s=u.next()).done)break;v=s.value}var p=t(v.validate(n),2),y=p[0],h=p[1];if(y)return y.type=f,[y];n=h}return[void 0,n]})}var Q={any:U,dict:function(n,o,u){if('array'!==E(n)||2!==n.length)throw new Error("Invalid schema: "+n);var c=G('object',void 0,u),f=U(n[0],void 0,u),l=U(n[1],void 0,u),s="dict<"+f.type+","+l.type+">";return new F('dict',s,function(n){var u=N(o);n=u?C({},u,n):n;var v=t(c.validate(n),1)[0];if(v)return v.type=s,[v];var p={},y=[],h=function(o){var u=n[o],c=t(f.validate(o),2),s=c[0],v=c[1];if(s)return(s.errors||[s]).forEach(function(t){t.path=[o].concat(t.path),t.data=n,y.push(t)}),b=o,"continue";o=v;var h=t(l.validate(u),2),w=h[0],j=h[1];if(w)return(w.errors||[w]).forEach(function(t){t.path=[o].concat(t.path),t.data=n,y.push(t)}),b=o,"continue";p[o]=j,b=o};for(var b in n)h(b);return y.length?[C({},y[0],{errors:y})]:[void 0,p]})},enum:z,enums:function(t,n,o){return W([z(t,void 0)],n,o)},function:J,instance:function(t,n,o){var u="instance<"+t.name+">";return new F('instance',u,function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(n);return o instanceof t?[void 0,o]:[{data:o,path:[],value:o,type:u}]})},interface:function(n,o,u){if('object'!==E(n))throw new Error("Invalid schema: "+n);var c=G('object',void 0,u),f=[],l={};for(var s in n){f.push(s);var v=U(n[s],void 0,u);l[s]=v}var p="{"+f.join()+"}";return new F('interface',p,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=t(c.validate(n),1)[0];if(u)return u.type=p,[u];var f=[],s=n,v=function(u){var c=n[u],v=l[u];void 0===c&&(c=N(o&&o[u],n));var p=t(v.validate(c,n),2),y=p[0],h=p[1];if(y)return(y.errors||[y]).forEach(function(t){t.path=[u].concat(t.path),t.data=n,f.push(t)}),"continue";(u in n||void 0!==h)&&(s[u]=h)};for(var y in l)v(y);return f.length?[C({},f[0],{errors:f})]:[void 0,s]})},lazy:function(t,n,o){if('function'!==E(t))throw new Error("Invalid schema: "+t);var u,c;return u=new F('lazy',"lazy...",function(n){return c=t(),u.name=c.kind,u.type=c.type,u.validate=c.validate,u.validate(n)})},list:W,literal:function(t,n,o){var u="literal: "+JSON.stringify(t);return new F('literal',u,function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(n);return o===t?[void 0,o]:[{data:o,path:[],value:o,type:u}]})},object:B,optional:L,partial:function(n,o,u){if('object'!==E(n))throw new Error("Invalid schema: "+n);var c=G('object',void 0,u),f=[],l={};for(var s in n){f.push(s);var v=U(n[s],void 0,u);l[s]=v}var p="{"+f.join()+",...}";return new F('partial',p,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),u=t(c.validate(n),1)[0];if(u)return u.type=p,[u];var f=[],s={},v=function(u){var c=n[u],v=l[u];void 0===c&&(c=N(o&&o[u],n));var p=t(v.validate(c,n),2),y=p[0],h=p[1];if(y)return(y.errors||[y]).forEach(function(t){t.path=[u].concat(t.path),t.data=n,f.push(t)}),"continue";(u in n||void 0!==h)&&(s[u]=h)};for(var y in l)v(y);return f.length?[C({},f[0],{errors:f})]:[void 0,s]})},scalar:G,tuple:K,union:q,intersection:H,dynamic:function(n,o,u){if('function'!==E(n))throw new Error("Invalid schema: "+n);return new F('dynamic','dynamic...',function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(o),c=arguments.length>1?arguments[1]:void 0,f=n(u,c);if('function'!==E(f))throw new Error("Invalid schema: "+f);var l=t(f.validate(u),2),s=l[0],v=l[1];return s?[s]:[void 0,v]})}},V={any:function(t){return void 0!==t}};function X(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=C({},V,n.types||{});function u(n,u){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};M(n)&&(n=n.schema);var f=Q.any(n,u,C({},c,{types:o}));function l(t){if(this instanceof l)throw new Error('Invalid `new` keyword!');return l.assert(t)}return Object.defineProperty(l,R,{value:!0}),Object.defineProperty(l,D,{value:f}),l.kind=f.name,l.type=f.type,l.schema=n,l.defaults=u,l.options=c,l.assert=function(n){var o=t(f.validate(n),2),u=o[0],c=o[1];if(u)throw new w(u);return c},l.test=function(n){return!t(f.validate(n),1)[0]},l.validate=function(n){var o=t(f.validate(n),2),u=o[0],c=o[1];return u?[new w(u)]:[void 0,c]},l}return Object.keys(Q).forEach(function(t){var n=Q[t];u[t]=function(t,c,f){return u(n(t,c,C({},f,{types:o})),c,f)}}),u}['arguments','array','boolean','buffer','error','float32array','float64array','function','generatorfunction','int16array','int32array','int8array','map','null','number','object','promise','regexp','set','string','symbol','uint16array','uint32array','uint8array','uint8clampedarray','undefined','weakmap','weakset'].forEach(function(t){V[t]=function(n){return E(n)===t}}),V.date=function(t){return'date'===E(t)&&!isNaN(t)};var Y=X();e.struct=Y,e.superstruct=X,e.isStruct=M,e.StructError=w},392,[]);