__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=S();if(n&&n.has(t))return n.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var l=s?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(o,u,l):o[u]=t[u]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=r(d[2]),s=v(r(d[3])),u=r(d[4]),l=r(d[5]),c=r(d[6]),p=v(r(d[7])),f=v(r(d[8])),h=v(r(d[9]));function v(t){return t&&t.__esModule?t:{default:t}}function S(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return S=function(){return t},t}function D(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function b(t,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&E(t,n)}function E(t,n){return(E=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var _=n.Dimensions.get('window').width,T=(function(o){function v(t){var n,o,s;return D(this,v),o=this,(n=!(s=y(v).call(this,t))||"object"!=typeof s&&"function"!=typeof s?O(o):s).state={showOnboardingDeparturesBusModal:!1},n.onDeparturePressed=n.onDeparturePressed.bind(O(n)),n.handleOnboardingDeparturesBusClicked=n.handleOnboardingDeparturesBusClicked.bind(O(n)),n}var S,E,T;return w(v,t.Component),S=v,(E=[{key:"componentDidMount",value:function(){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap((0,u.shouldShowOnboarding)(u.SHOW_ONBOARDING_DEPARTURES_BUS_KEY));case 2:t=n.sent,this.setState({showOnboardingDeparturesBusModal:t});case 4:case"end":return n.stop()}},null,this)}},{key:"handleOnboardingDeparturesBusClicked",value:function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:(0,u.updateOnboardingKey)(u.SHOW_ONBOARDING_DEPARTURES_BUS_KEY),this.setState({showOnboardingDeparturesBusModal:!1});case 2:case"end":return t.stop()}},null,this)}},{key:"onDeparturePressed",value:function(t){var n,o,u=this.props.navigation.state.params,l=u.from,c=u.to;this.props.navigation.navigate('DepartureDetailsScreen',{from:l,to:c,itinerary:t,isBusDeparture:!0,walkingDurationToDepartureStationSeconds:null==(n=this.props.itineraries)?void 0:n.walkingDurationToDepartureStationSeconds,adjacentDepartureTrainStationName:null==(o=this.props.itineraries)?void 0:o.adjacentDepartureTrainStationName,passengerSummary:this.props.passengerSummary,previousStack:{routeName:this.props.navigation.state.routeName,key:this.props.navigation.state.key,firstRouteName:'StationChooserScreen'}}),s.default.OPEN_DEPARTURE_DETAILS_BUS({from:l.name,to:c.name})}},{key:"render",value:function(){var o,s,u,v,S,D,b=this.props.navigation.state.params.selectedTime,y=this.props,O=y.isFetching,w=y.isFetchingLater,E=y.isRefreshing,T=y.itineraries,P=y.onRefresh,R=(null==T?void 0:T.walkingDurationToDepartureStationSeconds)&&(null==T?void 0:T.adjacentDepartureTrainStationName)&&(null==T?void 0:null==(o=T.nettbussItineraries)?void 0:null==(s=o[0])?void 0:s.fromStation.name),k=(null==T?void 0:null==(u=T.nettbussItineraries)?void 0:null==(v=u[0])?void 0:v.fromStation.name)?' '+(0,h.default)('to').toLowerCase()+' '+(null==T?void 0:null==(S=T.nettbussItineraries)?void 0:null==(D=S[0])?void 0:D.fromStation.name):'',j=(0,l.getWalkingLegDurationAsString)(null==T?void 0:T.walkingDurationToDepartureStationSeconds,null==T?void 0:T.adjacentDepartureTrainStationName)+k;return t.createElement(t.Fragment,null,O?t.createElement(t.Fragment,null,t.createElement(n.View,{style:{marginTop:2}},t.createElement(c.ContentLoader.Loader,{height:36,width:_,duration:1200},t.createElement(c.ContentLoader.MediumText,{width:_}),t.createElement(c.ContentLoader.MediumText,{width:"130",y:"18"}))),t.createElement(p.default,null)):t.createElement(f.default,{ref:this.props.listRef,listScrollY:this.props.listScrollY,onScrollBeginDrag:this.props.onScrollBeginDrag,onScrollEndDrag:this.props.onScrollEndDrag,onMomentumScrollBegin:this.props.onMomentumScrollBegin,onMomentumScrollEnd:this.props.onMomentumScrollEnd,data:T.nettbussItineraries||[],isRefreshing:O||E,isFetching:O,isFetchingLater:w,onEndReached:this.props.onEndReached,onRefresh:P,onDeparturePressed:this.onDeparturePressed,startTimeDepartures:b,walkLegToDepartureStationString:R&&j,busInTrainSearch:this.props.busInTrainSearch}))}}])&&b(S.prototype,E),T&&b(S,T),v})(),P=(0,o.withNavigation)(T);e.default=P},1304,[7,10,435,1294,1295,1233,653,1298,1305,1234]);