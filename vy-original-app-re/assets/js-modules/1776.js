__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=y();if(n&&n.has(t))return n.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c=l?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=t[u]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=r(d[2]),l=r(d[3]),u=h(r(d[4])),c=r(d[5]),s=r(d[6]),f=r(d[7]),p=h(r(d[8]));function h(t){return t&&t.__esModule?t:{default:t}}function y(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return y=function(){return t},t}function v(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function b(t,n){for(var o=0;o<n.length;o++){var l=n[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&O(t,n)}function O(t,n){return(O=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var S=(function(h){function y(){var t,n,o,l;v(this,y);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return o=this,(n=!(l=(t=w(y)).call.apply(t,[this].concat(c)))||"object"!=typeof l&&"function"!=typeof l?k(o):l).state={tickets:[],fetchedAt:null,validationData:[],biometricAuthenticationSupport:null},n}var O,S,E;return T(y,t.Component),O=y,(S=[{key:"componentDidMount",value:function(){var t,n,o,l;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,regeneratorRuntime.awrap((0,c.getActiveTicketsFromCache)());case 3:t=u.sent,n=t.tickets,o=t.fetchedAt,this.setState({tickets:n,fetchedAt:o}),u.next=13;break;case 10:u.prev=10,u.t0=u.catch(0);case 13:return u.prev=13,u.next=16,regeneratorRuntime.awrap((0,f.readAllValidationDataFromDatabase)());case 16:l=u.sent,this.setState({validationData:l}),u.next=24;break;case 21:u.prev=21,u.t1=u.catch(13);case 24:this.getBiometricAuthenticationSupport();case 25:case"end":return u.stop()}},null,this,[[0,10],[13,21]])}},{key:"getBiometricAuthenticationSupport",value:function(){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(l.UserAuthentication.isBiometricsSupported());case 2:t=n.sent,this.setState({biometricAuthenticationSupport:t});case 4:case"end":return n.stop()}},null,this)}},{key:"testAuthenticationFlow",value:function(t){var n;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,regeneratorRuntime.awrap((0,l.authenticateForHotToken)(t));case 2:n=u.sent,o.Alert.alert('Authentication',JSON.stringify(n));case 4:case"end":return u.stop()}})}},{key:"render",value:function(){var c=this,h=this.state.biometricAuthenticationSupport;return t.default.createElement(o.ScrollView,{style:{paddingHorizontal:20}},h?t.default.createElement(o.View,null,t.default.createElement(n.MediumTextBold,{style:{marginTop:20}},"Biometrisk autentisering:"),t.default.createElement(n.SmallText,null,"Enheten har: "+h.type+"\n",o.Platform.select({ios:"Biometrisk autentisering er "+(h.supported?'st\xf8ttet':'ikke st\xf8ttet grunnet:'),android:"Biometrisk autentisering er "+(h.supported?'st\xf8ttet':'ikke st\xf8ttet')}),h.error?h.error:null)):null,t.default.createElement(n.MediumTextBold,{style:{marginTop:20}},"Billettdatabase"),t.default.createElement(n.SmallText,{style:{marginBottom:20}},"Sist hentet",' ',(0,p.default)(this.state.fetchedAt).format('[kl.] HH:mm dddd DD.MM YYYY')||'aldri'),this.state.tickets.map(function(l){return t.default.createElement(o.View,{key:l.ticketId},t.default.createElement(n.SmallText,null,l.ticketId," - ",l.ticketType," - ",l.description))}),t.default.createElement(n.MediumTextBold,{style:{marginTop:20}},"Valideringsdata (qr og bilde)"),this.state.validationData.map(function(l){return t.default.createElement(o.View,{key:l.ticketId},t.default.createElement(n.SmallText,null,l.validationDataValidDate," for ticket ",l.ticketId))}),t.default.createElement(u.default,{containerStyle:{marginTop:20},onPress:s.emptyTicketResponseDatabase},"Nullstill billettdatabase"),t.default.createElement(u.default,{containerStyle:{marginTop:20},onPress:f.emptyTicketValidationDataDatabase},"Nullstill valideringsdata"),t.default.createElement(u.default,{containerStyle:{marginTop:20},onPress:function(){return c.testAuthenticationFlow('Min helt fornuftige grunn til\xa0\xe5 bruke biometrisk autentisering')}},"Test autentisering"),t.default.createElement(u.default,{containerStyle:{marginTop:20},onPress:l.UserAuthentication.clearBiometricPreferences},"Nullstill preferanser for biometrisk autentisering"))}}])&&b(O.prototype,S),E&&b(O,E),y})();S.navigationOptions=function(t){t.navigation;return{headerTitle:'Utviklerverkt\xf8y'}};var E=S;e.default=E},1776,[7,962,10,632,986,663,667,665,630]);