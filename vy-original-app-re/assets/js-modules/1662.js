__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=y();if(n&&n.has(t))return n.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var u=l?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=t[s]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=h(r(d[1])),o=r(d[2]),l=r(d[3]),s=h(r(d[4])),u=h(r(d[5])),c=r(d[6]),p=h(r(d[7])),f=h(r(d[8]));function h(t){return t&&t.__esModule?t:{default:t}}function y(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return y=function(){return t},t}function w(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function b(t,n){for(var o=0;o<n.length;o++){var l=n[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&S(t,n)}function S(t,n){return(S=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function O(s,c,p){return c.map(function(f,h){if(s||0!==h&&h!==c.length-1){var y=Boolean(f.realTimeDepartureTime||f.departureRealTime);return t.default.createElement(o.View,{style:u.default.stopsListStop,key:f.name||f.stopName},t.default.createElement(o.View,{style:u.default.smallStopRow},t.default.createElement(o.View,{style:[u.default.stopRowLine,p&&{backgroundColor:p}]}),t.default.createElement(o.View,{style:{flexDirection:'row',width:55}},t.default.createElement(o.View,{style:y?u.default.delayedStop:''},t.default.createElement(l.MediumTextBold,null,(0,n.default)(f.realTimeDepartureTime||f.departureTime||f.departureDateTime||f.realTimeArrivalTime||f.arrivalTime||f.arrivalDateTime||f.departureRealTime||f.departureScheduled||f.arrivalRealTime||f.arrivalScheduled).format('HH:mm')))),t.default.createElement(o.View,{style:u.default.stopRowTextWrapper},t.default.createElement(l.MediumText,null,f.name||f.stopName),!!f.boardingRuleDescription&&t.default.createElement(l.SmallText,{secondary:!0,style:{fontSize:14}},f.boardingRuleDescription))))}})}function _(t,n,l){return o.Animated.timing(t,{toValue:n,duration:l,easing:o.Easing.ease})}var V=(function(n){function h(){var t,n,l,s;w(this,h);for(var u=arguments.length,c=new Array(u),p=0;p<u;p++)c[p]=arguments[p];return l=this,(n=!(s=(t=T(h)).call.apply(t,[this].concat(c)))||"object"!=typeof s&&"function"!=typeof s?v(l):s).state={expanded:!1},n.animations={height:new o.Animated.Value(72),opacity:new o.Animated.Value(1),iconHeight:new o.Animated.Value(36)},n}var y,S,V;return E(h,t.Component),y=h,(S=[{key:"componentDidMount",value:function(){this.props.showListImmediately&&this.props.stops.length>0&&this.animateStopList(this.props.stops)}},{key:"componentDidUpdate",value:function(t){0===t.stops.length&&this.props.stops.length>0&&this.animateStopList(this.props.stops)}},{key:"animateStopList",value:function(t){t.length>0&&(this.animations={height:new o.Animated.Value(0),opacity:new o.Animated.Value(0),iconHeight:new o.Animated.Value(0)},o.Animated.stagger(150,[_(this.animations.height,72,250),_(this.animations.iconHeight,36,200),_(this.animations.opacity,1,150)]).start())}},{key:"toggleStopsList",value:function(){var t=this;this.setState(function(n){return!n.expanded&&t.props.busTrackingString&&f.default.BUS_EXPANDED_STOP_LIST({busTrackingString:t.props.busTrackingString}),{expanded:!n.expanded}}),this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var n=this,f=this.props,h=f.stops,y=f.color,w=f.isOnlyIntermediateStops;if(!w&&h.length<=2)return t.default.createElement(o.View,null);var b=w?h.length:h.length-2;return t.default.createElement(o.View,{style:u.default.stopsListContainer},t.default.createElement(o.Animated.View,{style:[u.default.stopRow,{height:this.animations.height}]},t.default.createElement(o.TouchableOpacity,{accessible:!0,accessibilityRole:"button",style:u.default.stopContainer,activeOpacity:.95,onPress:function(){return n.toggleStopsList()}},t.default.createElement(o.Animated.View,{style:[u.default.expandStopsList,{height:this.animations.iconHeight}]},t.default.createElement(o.View,{style:[u.default.stopsListLineIndicator,y&&{backgroundColor:y}]})),t.default.createElement(o.Animated.View,{style:[u.default.stopsListTextContainer,{opacity:this.animations.opacity}]},t.default.createElement(o.Image,{style:u.default.stopListIcon,source:this.state.expanded?c.minimize:c.expand}),t.default.createElement(l.SmallTextBold,null,h.length>0&&b+" "+(0,p.default)('ticket_details_stops'))))),t.default.createElement(s.default,{collapsed:!this.state.expanded},O(w,h,y)))}}])&&b(y.prototype,S),V&&b(y,V),h})();e.default=V},1662,[7,628,10,962,1348,1663,675,673,1294]);