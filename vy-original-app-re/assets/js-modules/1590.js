__d(function(g,r,i,a,m,e,d){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t=3,n=3,s=40,P=10;function T(t,n,s){switch(t){case e.Patterns.PATTERN000:return(n+s)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return s%3==0;case e.Patterns.PATTERN011:return(n+s)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2==0;case e.Patterns.PATTERN101:return n*s%2+n*s%3==0;case e.Patterns.PATTERN110:return(n*s%2+n*s%3)%2==0;case e.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2==0;default:throw new Error('bad maskPattern:'+t)}}e.isValid=function(t){return t&&''!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(n){for(var s=n.size,P=0,T=0,o=0,u=null,N=null,l=0;l<s;l++){T=o=0,u=N=null;for(var f=0;f<s;f++){var c=n.get(l,f);c===u?T++:(T>=5&&(P+=t+(T-5)),u=c,T=1),(c=n.get(f,l))===N?o++:(o>=5&&(P+=t+(o-5)),N=c,o=1)}T>=5&&(P+=t+(T-5)),o>=5&&(P+=t+(o-5))}return P},e.getPenaltyN2=function(t){for(var s=t.size,P=0,T=0;T<s-1;T++)for(var o=0;o<s-1;o++){var u=t.get(T,o)+t.get(T,o+1)+t.get(T+1,o)+t.get(T+1,o+1);4!==u&&0!==u||P++}return P*n},e.getPenaltyN3=function(t){for(var n=t.size,P=0,T=0,o=0,u=0;u<n;u++){T=o=0;for(var N=0;N<n;N++)T=T<<1&2047|t.get(u,N),N>=10&&(1488===T||93===T)&&P++,o=o<<1&2047|t.get(N,u),N>=10&&(1488===o||93===o)&&P++}return P*s},e.getPenaltyN4=function(t){for(var n=0,s=t.data.length,T=0;T<s;T++)n+=t.data[T];return Math.abs(Math.ceil(100*n/s/5)-10)*P},e.applyMask=function(t,n){for(var s=n.size,P=0;P<s;P++)for(var o=0;o<s;o++)n.isReserved(o,P)||n.xor(o,P,T(t,o,P))},e.getBestMask=function(t,n){for(var s=Object.keys(e.Patterns).length,P=0,T=1/0,o=0;o<s;o++){n(o),e.applyMask(o,t);var u=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),u<T&&(T=u,P=o)}return P}},1590,[]);