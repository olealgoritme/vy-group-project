__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=y();if(n&&n.has(t))return n.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var u=l?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=t[s]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=r(d[2]),l=b(r(d[3])),s=b(r(d[4])),u=r(d[5]),f=r(d[6]),c=r(d[7]),p=r(d[8]),h=r(d[9]);function b(t){return t&&t.__esModule?t:{default:t}}function y(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return y=function(){return t},t}function v(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function E(t,n){for(var o=0;o<n.length;o++){var l=n[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&P(t,n)}function P(t,n){return(P=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var C={isLoading:!0,forgotPasswordError:void 0},S={isLoading:!1},j=(function(b){function y(t){var n,o,l,s;v(this,y),l=this,o=!(s=_(y).call(this,t))||"object"!=typeof s&&"function"!=typeof s?O(l):s;var u=null!=(n=t.email)?n:'';return o.state={emailInput:u,isLoading:!1},o.handleEmailInputChange=o.handleEmailInputChange.bind(O(o)),o.handleSubmit=o.handleSubmit.bind(O(o)),o.handleEmailBlur=o.handleEmailBlur.bind(O(o)),o.handleClose=o.handleClose.bind(O(o)),o}var P,j,I;return w(y,t.Component),P=y,(j=[{key:"handleClose",value:function(){n.Keyboard.dismiss(),this.props.onClose&&this.props.onClose()}},{key:"handleEmailInputChange",value:function(t){this.setState({emailInput:t,emailValidationError:void 0})}},{key:"handleEmailBlur",value:function(){this.setState(function(t){return{emailValidationError:(0,u.validateEmail)(t.emailInput)?void 0:(0,s.default)('invalid_email')}})}},{key:"handleSubmit",value:function(){var t;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return this.setState(C),o.prev=1,n.Keyboard.dismiss(),o.next=5,regeneratorRuntime.awrap((0,f.forgotPassword)(this.state.emailInput));case 5:this.setState(S),this.props.onComplete(),o.next=14;break;case 9:o.prev=9,o.t0=o.catch(1),t=(0,c.getMessageFromErrorIfPresent)(o.t0)||(0,s.default)('forgot_password_error'),p.remoteLogger.error(h.PROFILE_FORGOT_PASSWORD,t,o.t0.toString&&o.t0.toString()),this.setState({isLoading:!1,forgotPasswordError:t});case 14:case"end":return o.stop()}},null,this,[[1,9]])}},{key:"render",value:function(){var n=(0,u.validateEmail)(this.state.emailInput),f={marginTop:32,backgroundColor:l.default[this.state.isLoading||!n?'lightGrey':'actionGreen']};return t.createElement(o.BottomModal,{isVisible:this.props.isVisible,onClose:this.handleClose,headerText:(0,s.default)('header_text'),type:"input"},t.createElement(o.MediumTextBold,{style:{marginTop:18}},(0,s.default)('info_text')),t.createElement(o.EmailInputField,{style:{marginTop:18},label:(0,s.default)('email'),onChange:this.handleEmailInputChange,onBlur:this.handleEmailBlur,errorMessage:this.state.emailValidationError,value:this.state.emailInput,autoFocus:!0}),t.createElement(o.PrimaryButton,{containerStyle:f,onPress:this.handleSubmit,disabled:this.state.isLoading||!n,loading:this.state.isLoading},(0,s.default)('send_new_password')))}}])&&E(P.prototype,j),I&&E(P,I),y})();e.default=j},1483,[7,10,653,415,1484,1485,616,626,633,649]);