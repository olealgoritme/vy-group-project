__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function n(n){for(var c=1;c<arguments.length;c++){var l=null!=arguments[c]?arguments[c]:{};c%2?t(Object(l),!0).forEach(function(t){o(n,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}function o(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function c(t,n){return u(t)||s(t,n)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t,n){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],c=!0,l=!1,s=void 0;try{for(var u,f=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(c=(u=f.next()).done)&&(o.push(u.value),!n||o.length!==n);c=!0);}catch(t){l=!0,s=t}finally{try{c||null==f.return||f.return()}finally{if(l)throw s}}return o}}function u(t){if(Array.isArray(t))return t}function f(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function h(t,n){for(var o=0;o<n.length;o++){var c=n[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}var v=r(d[0]),b=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};f(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n}var o,l,s;return o=t,(l=[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,o,c,l){var s=this._config,u=s.itemVisiblePercentThreshold,f=s.viewAreaCoveragePercentThreshold,h=null!=f,b=h?f:u;v(null!=b&&null!=u!=(null!=f),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var p=[];if(0===t)return p;var w=-1,_=l||{first:0,last:t-1},O=_.first,I=_.last;if(I>=t)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:l,itemCount:t})),[];for(var j=O;j<=I;j++){var S=c(j);if(S){var P=S.offset-n,k=P+S.length;if(P<o&&k>0)w=j,y(h,b,P,k,o,S.length)&&p.push(j);else if(w>=0)break}}return p}},{key:"onUpdate",value:function(t,n,o,c,l,s,u){var f=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==t&&c(0)){var h=[];if(t&&(h=this.computeViewableItems(t,n,o,c,u)),this._viewableIndices.length!==h.length||!this._viewableIndices.every(function(t,n){return t===h[n]}))if(this._viewableIndices=h,this._config.minimumViewTime){var v=setTimeout(function(){f._timers.delete(v),f._onUpdateSync(h,s,l)},this._config.minimumViewTime);this._timers.add(v)}else this._onUpdateSync(h,s,l)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,o,l){var s=this;t=t.filter(function(t){return s._viewableIndices.includes(t)});var u=this._viewableItems,f=new Map(t.map(function(t){var n=l(t,!0);return[n.key,n]})),h=[],v=f,b=Array.isArray(v),y=0;for(v=b?v:v["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(b){if(y>=v.length)break;p=v[y++]}else{if((y=v.next()).done)break;p=y.value}var w=c(p,2),_=w[0],O=w[1];u.has(_)||h.push(O)}var I=u,j=Array.isArray(I),S=0;for(I=j?I:I["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var P;if(j){if(S>=I.length)break;P=I[S++]}else{if((S=I.next()).done)break;P=S.value}var k=c(P,2),A=k[0],T=k[1];f.has(A)||h.push(n({},T,{isViewable:!1}))}h.length>0&&(this._viewableItems=f,o({viewableItems:Array.from(f.values()),changed:h,viewabilityConfig:this._config}))}}])&&h(o.prototype,l),s&&h(o,s),t})();function y(t,n,o,c,l,s){if(w(o,c,l))return!0;var u=p(o,c,l);return 100*(t?u/l:u/s)>=n}function p(t,n,o){var c=Math.min(n,o)-Math.max(t,0);return Math.max(0,c)}function w(t,n,o){return t>=0&&n<=o&&n>t}m.exports=b},246,[11]);