__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h();if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=r(d[2]),u=r(d[3]),c=v(r(d[4])),l=v(r(d[5])),s=r(d[6]),f=r(d[7]),p=r(d[8]),y=v(r(d[9])),b=r(d[10]);function v(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function _(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function O(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&N(t,n)}function N(t,n){return(N=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var S={header:{marginTop:24,marginLeft:12,marginBottom:18,flexDirection:'row'}},j=(function(o){function c(t){var n,o,u;return _(this,c),o=this,(n=!(u=w(c).call(this,t))||"object"!=typeof u&&"function"!=typeof u?T(o):u).state={addNewCard:p.NOT_STARTED},n.onSubmit=n.onSubmit.bind(T(n)),n}var s,v,h;return P(c,t.Component),s=c,(v=[{key:"onSubmit",value:function(){var t;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return this.setState({addNewCard:p.LOADING}),o.prev=1,y.default.ADD_NEW_CARD(),o.next=5,regeneratorRuntime.awrap((0,f.addNewPaymentCard)(this.props.userId));case 5:t=o.sent,this.navigateToNetsTerminal(t),o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),n.Alert.alert((0,l.default)('error'),(0,b.getMessageFromErrorIfPresent)(o.t0)||(0,l.default)('error_adding_card')),u.remoteLogger.error(u.sources.BOOKING,'Payment: Error before navigating to nets terminal',{error:o.t0});case 13:return o.prev=13,this.setState({addNewCard:p.NOT_STARTED}),o.finish(13);case 16:case"end":return o.stop()}},null,this,[[1,9,13,16]])}},{key:"navigateToNetsTerminal",value:function(t){var n={url:t.terminalUri,userId:this.props.userId,recurringPaymentId:t.recurringPaymentId};this.props.navigation.navigate('NetsTerminal',n)}},{key:"render",value:function(){return t.createElement(E,{onSubmit:this.onSubmit,remoteData:this.state.addNewCard})}}])&&O(s.prototype,v),h&&O(s,h),c})(),E=function(o){return t.createElement(n.View,{style:S.header},t.createElement(c.default,{style:{flex:1,marginTop:6}},(0,l.default)('my_payment')),t.createElement(s.FriendlyButton,{containerStyle:{marginRight:12,alignSelf:'center'},children:'+ '+(0,l.default)('add_new_card'),accessibilityLabel:(0,l.default)('add_new_card'),onPress:o.onSubmit,disabled:!(0,p.IS_NOT_STARTED)(o.remoteData),size:"small"}))},D=(0,o.withNavigation)(j);e.default=D},1844,[7,10,435,633,972,1842,653,642,1830,1294,636]);