__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.clearAllRecentSearches=function(){var t;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t=[w,S,R,N],c.prev=1,c.next=4,regeneratorRuntime.awrap(n.default.multiRemove(t));case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(1),console.log('Failed to clear all recent searches, with error '+JSON.stringify(c.t0));case 9:case"end":return c.stop()}},null,null,[[1,6]])},e.getRecentSearch=j,e.getRecentSearchLocalOperatorStop=I,e.setRecentSearch=function(t){var o,u,s;return regeneratorRuntime.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,regeneratorRuntime.awrap(j(y));case 3:return o=l.sent,u=[t.from,t.to],s=(0,c.removeDuplicates)(u.concat(o),'name'),l.next=8,regeneratorRuntime.awrap(n.default.setItem(w,JSON.stringify(s)));case 8:return l.next=10,regeneratorRuntime.awrap(J(t.from.id,t.to.id));case 10:l.next=15;break;case 12:l.prev=12,l.t0=l.catch(0),console.log('Failed to set recent search, with error '+JSON.stringify(l.t0));case 15:case"end":return l.stop()}},null,null,[[0,12]])},e.setRecentSearchLocalOperatorStop=function(t,o){var u,s,l,f;return regeneratorRuntime.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(u=k[t]){v.next=3;break}return v.abrupt("return");case 3:return v.prev=3,v.next=6,regeneratorRuntime.awrap(I(y,t));case 6:return s=v.sent,l=p(o),f=(0,c.removeDuplicates)(l.concat(s),'id'),v.next=11,regeneratorRuntime.awrap(n.default.setItem(u,JSON.stringify(f)));case 11:v.next=16;break;case 13:v.prev=13,v.t0=v.catch(3),console.log('Failed to set recent search local operator stop, with error '+JSON.stringify(v.t0));case 16:case"end":return v.stop()}},null,null,[[3,13]])},e.deleteStationFromRecentSearch=function(t){var c,o;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,regeneratorRuntime.awrap(j(y));case 3:return c=u.sent,o=c.filter(function(n){return n.name!==t.name}),u.next=7,regeneratorRuntime.awrap(n.default.setItem(w,JSON.stringify(o)));case 7:u.next=12;break;case 9:u.prev=9,u.t0=u.catch(0),console.log('Failed to set recent search, with error '+JSON.stringify(u.t0));case 12:case"end":return u.stop()}},null,null,[[0,9]])},e.askAddToFavorite=function(t,n,c){var o;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,regeneratorRuntime.awrap(A());case 3:if(o=u.sent,!c.some(function(c){return c.from.code===t.id&&c.to.code===n.id})){u.next=7;break}return u.abrupt("return",!1);case 7:return u.abrupt("return",o.some(function(c){return c.fromStationId===t.id&&c.toStationId===n.id&&c.count===O}));case 10:u.prev=10,u.t0=u.catch(0),console.log('Not able to update AsyncStorage with new stationpairsearch: '+JSON.stringify(u.t0));case 13:return u.abrupt("return",!1);case 14:case"end":return u.stop()}},null,null,[[0,10]])},e.RECENT_SEARCH_KEY=void 0;var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t},c=r(d[1]),o=r(d[2]);function u(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),c.push.apply(c,o)}return c}function s(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?u(Object(c),!0).forEach(function(n){l(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function l(t,n,c){return n in t?Object.defineProperty(t,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[n]=c,t}function p(t){return h(t)||v(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(t){if(Array.isArray(t)){for(var n=0,c=new Array(t.length);n<t.length;n++)c[n]=t[n];return c}}var b=5,y=20,S='@RecentSearchRuter:key',R='@RecentSearchKolumbus:key',w='@RecentSearch:key';e.RECENT_SEARCH_KEY=w;var O=3,x=50,N='@StationPairsSearched:key';function j(){var t,n=arguments;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:b,c.abrupt("return",(0,o.getRecentSearchFromAsyncStorage)(t));case 2:case"end":return c.stop()}})}var k={RUTER:S,KOLUMBUS:R};function I(){var t,c,o,u,s=arguments;return regeneratorRuntime.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:b,c=s.length>1?s[1]:void 0,o=k[c]){l.next=5;break}return l.abrupt("return",[]);case 5:return l.prev=5,l.next=8,regeneratorRuntime.awrap(n.default.getItem(o));case 8:if(null===(u=l.sent)){l.next=11;break}return l.abrupt("return",JSON.parse(u).slice(0,t));case 11:return l.abrupt("return",[]);case 14:return l.prev=14,l.t0=l.catch(5),console.log('Failed to retrieve recent search, with error '+JSON.stringify(l.t0)),l.abrupt("return",[]);case 18:case"end":return l.stop()}},null,null,[[5,14]])}function J(t,n){var c,o;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,regeneratorRuntime.awrap(A());case 3:return c=u.sent,u.next=6,regeneratorRuntime.awrap(P({fromStationId:t,toStationId:n,count:1},c));case 6:return o=u.sent,u.next=9,regeneratorRuntime.awrap(E(o));case 9:u.next=15;break;case 11:u.prev=11,u.t0=u.catch(0),console.log(u.t0),console.log('Not able to get stationpairsearched from AsyncStorage: '+JSON.stringify(u.t0));case 15:case"end":return u.stop()}},null,null,[[0,11]])}function A(){var t;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,regeneratorRuntime.awrap(n.default.getItem(N));case 3:return t=c.sent,c.abrupt("return",JSON.parse(t)||[]);case 7:return c.prev=7,c.t0=c.catch(0),c.abrupt("return",[]);case 10:case"end":return c.stop()}},null,null,[[0,7]])}function E(t){return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,regeneratorRuntime.awrap(n.default.setItem(N,JSON.stringify(t)));case 3:return c.abrupt("return",!0);case 6:return c.prev=6,c.t0=c.catch(0),c.abrupt("return",!1);case 9:case"end":return c.stop()}},null,null,[[0,6]])}function P(t,n){if(n.some(function(n){return F(n,t)}))return n.map(_(t));var c=[].concat(p(n),[t]);return c.length<x?c:c.slice(1)}function _(t){return function(n){return F(n,t)?s({},n,{count:n.count+1}):n}}function F(t,n){return t.fromStationId===n.fromStationId&&t.toStationId===n.toStationId}},645,[613,619,646]);