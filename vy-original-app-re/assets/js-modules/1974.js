__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=(function(){function o(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return o.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},o.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},o.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){t._scopeListeners.forEach(function(s){s(t)}),t._notifyingListeners=!1}))},o.prototype._notifyEventProcessors=function(n,o,_,c){var h=this;return void 0===c&&(c=0),new s.SyncPromise(function(p,u){var f=n[c];if(null===o||'function'!=typeof f)p(o);else{var l=f(t.__assign({},o),_);s.isThenable(l)?l.then(function(t){return h._notifyEventProcessors(n,t,_,c+1).then(p)}).then(null,u):h._notifyEventProcessors(n,l,_,c+1).then(p).then(null,u)}})},o.prototype.setUser=function(t){return this._user=s.normalize(t),this._notifyScopeListeners(),this},o.prototype.setTags=function(n){return this._tags=t.__assign({},this._tags,s.normalize(n)),this._notifyScopeListeners(),this},o.prototype.setTag=function(n,o){var _;return this._tags=t.__assign({},this._tags,((_={})[n]=s.normalize(o),_)),this._notifyScopeListeners(),this},o.prototype.setExtras=function(n){return this._extra=t.__assign({},this._extra,s.normalize(n)),this._notifyScopeListeners(),this},o.prototype.setExtra=function(n,o){var _;return this._extra=t.__assign({},this._extra,((_={})[n]=s.normalize(o),_)),this._notifyScopeListeners(),this},o.prototype.setFingerprint=function(t){return this._fingerprint=s.normalize(t),this._notifyScopeListeners(),this},o.prototype.setLevel=function(t){return this._level=s.normalize(t),this._notifyScopeListeners(),this},o.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},o.prototype.setContext=function(t,n){return this._context[t]=n?s.normalize(n):void 0,this._notifyScopeListeners(),this},o.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},o.prototype.startSpan=function(t){var s=new n.Span;return s.setParent(t),this.setSpan(s),s},o.prototype.getSpan=function(){return this._span},o.clone=function(s){var n=new o;return s&&(n._breadcrumbs=t.__spread(s._breadcrumbs),n._tags=t.__assign({},s._tags),n._extra=t.__assign({},s._extra),n._context=t.__assign({},s._context),n._user=s._user,n._level=s._level,n._span=s._span,n._transaction=s._transaction,n._fingerprint=s._fingerprint,n._eventProcessors=t.__spread(s._eventProcessors)),n},o.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},o.prototype.addBreadcrumb=function(n,o){var _=(new Date).getTime()/1e3,c=t.__assign({timestamp:_},n);return this._breadcrumbs=void 0!==o&&o>=0?t.__spread(this._breadcrumbs,[s.normalize(c)]).slice(-o):t.__spread(this._breadcrumbs,[s.normalize(c)]),this._notifyScopeListeners(),this},o.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},o.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},o.prototype.applyToEvent=function(s,n){return this._extra&&Object.keys(this._extra).length&&(s.extra=t.__assign({},this._extra,s.extra)),this._tags&&Object.keys(this._tags).length&&(s.tags=t.__assign({},this._tags,s.tags)),this._user&&Object.keys(this._user).length&&(s.user=t.__assign({},this._user,s.user)),this._context&&Object.keys(this._context).length&&(s.contexts=t.__assign({},this._context,s.contexts)),this._level&&(s.level=this._level),this._transaction&&(s.transaction=this._transaction),this._span&&(s.contexts=s.contexts||{},s.contexts.trace=this._span),this._applyFingerprint(s),s.breadcrumbs=t.__spread(s.breadcrumbs||[],this._breadcrumbs),s.breadcrumbs=s.breadcrumbs.length>0?s.breadcrumbs:void 0,this._notifyEventProcessors(t.__spread(_(),this._eventProcessors),s,n)},o})();function _(){var t=s.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}e.Scope=o,e.addGlobalEventProcessor=function(t){_().push(t)}},1974,[1972,1975,1989]);