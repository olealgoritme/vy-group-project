__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=M(r(d[0])),o=r(d[1]),n=r(d[2]),l=r(d[3]),s=M(r(d[4])),c=M(r(d[5])),u=M(r(d[6])),f=M(r(d[7])),b=M(r(d[8])),p=M(r(d[9])),y=M(r(d[10])),v=r(d[11]),h=r(d[12]);function M(t){return t&&t.__esModule?t:{default:t}}function E(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function O(t,o){for(var n=0;n<o.length;n++){var l=o[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&T(t,o)}function T(t,o){return(T=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}var V={onboardServices:{flexDirection:'row',flex:1,alignItems:'center',flexWrap:'wrap'},textButton:{alignItems:'flex-start',padding:18,margin:-18},deviation:{flexDirection:'row',alignItems:'center',marginLeft:1,marginBottom:6},logo:{height:24,width:78,marginRight:12,marginTop:3,marginBottom:12},logoVy:{height:18,width:38,marginRight:12,marginTop:3,marginBottom:12}},_=(function(M){function T(t){var o,n,l;return E(this,T),n=this,(o=!(l=S(T).call(this,t))||"object"!=typeof l&&"function"!=typeof l?w(n):l).state={isDeviationMessagesModalVisible:!1,isOnboardServicesModalVisible:!1},o.toggleDeviationMessagesModal=o.toggleDeviationMessagesModal.bind(w(o)),o.toggleOnboardServicesModal=o.toggleOnboardServicesModal.bind(w(o)),o}var _,L,D;return x(T,t.default.Component),_=T,(L=[{key:"toggleDeviationMessagesModal",value:function(){this.setState(function(t){return{isDeviationMessagesModalVisible:!t.isDeviationMessagesModalVisible}})}},{key:"toggleOnboardServicesModal",value:function(){this.setState(function(t){return{isOnboardServicesModalVisible:!t.isOnboardServicesModalVisible}})}},{key:"renderOperatorLogo",value:function(n){switch(n){case h.OPERATORS.NSB:return t.default.createElement(o.Image,{source:v.vyLogo,style:V.logoVy,resizeMode:"contain"});case h.OPERATORS.GOAHEAD:return t.default.createElement(o.Image,{source:v.goAheadLogo,style:V.logo,resizeMode:"contain"});default:return null}}},{key:"render",value:function(){var v=this.props.leg,h=v.transportType.toUpperCase().includes('REPLACEMENT')?'#'+v.line.colors.background:l.colors.actionGreen,M=(0,u.default)('line')+" "+v.line.name+" "+(0,u.default)('to')+" "+v.finalDestinationOfLine,E=(0,u.default)('onboard_services')+':'+v.attributes.map(function(t){return t.name}).join('. ')+'. '+(0,u.default)('more_info'),O=v.messages.reduce(function(t,o){return t.concat(o)},[]);return t.default.createElement(t.default.Fragment,null,t.default.createElement(o.View,{style:{flex:1,marginLeft:18}},t.default.createElement(f.default,{departureStation:!0,leg:v,station:v.from,track:v.departureTrack}),t.default.createElement(o.View,{style:V.deviation},t.default.createElement(n.StatusCircleIndicator,{severity:v.deviation.severity,style:{marginRight:8}}),t.default.createElement(n.SmallText,{accessibilityLabel:"Status: "+v.deviation.message},v.deviation.message)),t.default.createElement(b.default,{legMessages:O,onPress:this.toggleDeviationMessagesModal}),t.default.createElement(n.GreyLine,{style:{marginTop:12}}),t.default.createElement(o.View,{style:{flexDirection:'row',flexWrap:'wrap',alignItems:'center'},accessible:!0,accessibilityLabel:M},t.default.createElement(n.TrainLine,{style:{alignItems:'center',flex:0,marginRight:12,marginTop:30},name:v.line.name||'',colors:v.line.colors||{}}),t.default.createElement(n.MediumText,{mediumGrey:!0,style:{flex:0,marginRight:6,marginTop:12},numberOfLines:1},v.finalDestinationOfLine),t.default.createElement(o.View,{style:{flexGrow:1}}),this.renderOperatorLogo(v.operator)),v.selectedAccommodation&&'FREE_SEATING'===v.selectedAccommodation.accommodationType&&t.default.createElement(n.MediumText,{mediumGrey:!0,style:{flex:1,marginTop:3,marginBottom:12}},v.selectedAccommodation&&v.selectedAccommodation.description),!v.availableAccommodations&&t.default.createElement(n.MediumText,{mediumGrey:!0,style:{flex:1,marginTop:3,marginBottom:12}},(0,u.default)('assigned_seating')),t.default.createElement(n.GreyLine,{style:{marginBottom:12}}),v.attributes.length>0&&t.default.createElement(o.TouchableOpacity,{accessible:!0,accessibilityRole:"button",accessibilityLabel:E,onPress:this.toggleOnboardServicesModal},t.default.createElement(o.View,{style:{flexDirection:'row',alignItems:'center'}},t.default.createElement(o.View,{style:V.onboardServices},t.default.createElement(s.default,{leg:v})),t.default.createElement(n.InfoButton,{accessible:!1,text:(0,u.default)('more_info'),onPress:this.toggleOnboardServicesModal,style:V.textButton,textOnly:!0}))),t.default.createElement(o.View,{style:{marginLeft:6,marginBottom:18}},t.default.createElement(c.default,{showListImmediately:!0,stops:v.stops,numberOfStops:v.stops.length,color:h})),t.default.createElement(f.default,{leg:v,station:v.to,track:v.arrivalTrack,small:!0,departureStation:!1})),t.default.createElement(p.default,{from:v.from,to:v.to,departureScheduled:v.departureScheduled,legMessages:O,onClose:this.toggleDeviationMessagesModal,isDeviationMessagesModalVisible:this.state.isDeviationMessagesModalVisible}),t.default.createElement(y.default,{leg:v,onClose:this.toggleOnboardServicesModal,isOnboardServicesModalVisible:this.state.isOnboardServicesModalVisible}))}}])&&O(_.prototype,L),D&&O(_,D),T})();e.default=_},1892,[7,10,653,414,1881,1662,1234,1893,1883,1884,1882,675,669]);