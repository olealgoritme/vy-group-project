__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),n=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=x();if(n&&n.has(t))return n.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c=l?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=t[u]}o.default=t,n&&n.set(t,o);return o})(r(d[1])),o=r(d[2]),l=r(d[3]),u=r(d[4]),c=w(r(d[5])),s=r(d[6]),f=w(r(d[7])),y=r(d[8]),p=r(d[9]),b=w(r(d[10])),h=r(d[11]),v=w(r(d[12]));function w(t){return t&&t.__esModule?t:{default:t}}function x(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return x=function(){return t},t}function E(t,n){return T(t)||k(t,n)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function k(t,n){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],l=!0,u=!1,c=void 0;try{for(var s,f=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(l=(s=f.next()).done)&&(o.push(s.value),!n||o.length!==n);l=!0);}catch(t){u=!0,c=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}return o}}function T(t){if(Array.isArray(t))return t}function S(o){return n.default.createElement(t.View,{style:_.successContainer},n.default.createElement(t.Image,{source:y.largeCheckmark}),n.default.createElement(u.MediumTextBold,{style:{marginVertical:24,textAlign:'center'}},(0,f.default)('thank_you_for_feedback')))}var _=t.StyleSheet.create({container:{backgroundColor:s.colors.white,paddingHorizontal:18,paddingBottom:24,marginTop:12,height:'90%'},successContainer:{flex:1,alignItems:'center',justifyContent:'center',marginVertical:36},message:{marginVertical:24,backgroundColor:s.colors.brightGrey,flex:1,paddingHorizontal:12,textAlignVertical:'top',borderBottomColor:s.colors.mediumGrey,borderBottomWidth:2},button:{justifyContent:'center',alignItems:'center',flexDirection:'row'},messageSent:{marginTop:30,alignSelf:'center',textAlign:'center'}}),C=function(y){var w=E((0,n.useState)(''),2),x=w[0],j=w[1],k=E((0,l.useLoginState)(),1)[0],T=E((0,p.useFetchRequest)(function(){var n,l,u,c;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return t.Keyboard.dismiss(),n=(0,h.getUserProfile)(k),s.next=4,regeneratorRuntime.awrap((0,b.default)());case 4:return l=s.sent,u=B?'The user is '+B+' about the service':'',c=(0,h.constructFeedbackMessage)(y.messageTitle,y.feedbackTarget,x,y.from,y.to,y.selectedTime,l,y.itinerary,u,n),s.next=9,regeneratorRuntime.awrap((0,o.postTravelPlannerFeedback)(c));case 9:case"end":return s.stop()}})},[],!1),2),C=T[0],O=T[1],P=(0,p.isError)(C),M=E((0,n.useState)(),2),B=M[0],V=M[1];return'success'===C.type?n.default.createElement(t.View,{style:_.container},n.default.createElement(S,{onClose:y.onClose})):n.default.createElement(t.View,{style:_.container},y.showFeedbackEmojis&&n.default.createElement(v.default,{chosenEmoji:B,setEmoji:V}),n.default.createElement(t.TextInput,{style:[c.default.mediumText,_.message],placeholderTextColor:s.colors.black,multiline:!0,placeholder:y.placeholder,value:x,onChangeText:function(t){return j(t)}}),n.default.createElement(u.PrimaryButton,{onPress:O,containerStyle:_.button,disabled:(0,p.isLoading)(C),loading:(0,p.isLoading)(C)},n.default.createElement(u.MediumTextBold,{white:!0},(0,f.default)('send_feedback'))),P&&n.default.createElement(u.MediumTextBold,{red:!0,style:_.messageSent},(0,f.default)('feedback_failed')))};e.default=C},1359,[10,7,1360,637,653,967,414,1337,675,1361,648,1362,1363]);