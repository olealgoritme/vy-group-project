__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.readEtagForUrl=function(o){var u,c,l,p;return regeneratorRuntime.async(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,regeneratorRuntime.awrap((0,t.getDatabase)());case 3:return u=f.sent,f.next=6,regeneratorRuntime.awrap(u.executeSql(s));case 6:return f.next=8,regeneratorRuntime.awrap(u.executeSql(E,[o]));case 8:if(c=f.sent,l=n(c,1),1===(p=l[0]).rows.length){f.next=13;break}return f.abrupt("return",void 0);case 13:return f.abrupt("return",p.rows.item(0).etag);case 16:return f.prev=16,f.t0=f.catch(0),console.log('[db] Error: '+f.t0.message),f.abrupt("return",void 0);case 20:case"end":return f.stop()}},null,null,[[0,16]])},e.readValueForUrl=function(o){var u,c,l,E;return regeneratorRuntime.async(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,regeneratorRuntime.awrap((0,t.getDatabase)());case 3:return u=f.sent,f.next=6,regeneratorRuntime.awrap(u.executeSql(s));case 6:return f.next=8,regeneratorRuntime.awrap(u.executeSql(p,[o]));case 8:if(c=f.sent,l=n(c,1),1===(E=l[0]).rows.length){f.next=13;break}return f.abrupt("return",void 0);case 13:return f.abrupt("return",JSON.parse(E.rows.item(0).value));case 16:throw f.prev=16,f.t0=f.catch(0),console.log('[db] Error: '+f.t0.message),Error('Unable to read value for URL,'+o+', with error: '+f.t0.message);case 20:case"end":return f.stop()}},null,null,[[0,16]])},e.writeValueAndEtagForUrl=function(n,o,u){var c;return regeneratorRuntime.async(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,regeneratorRuntime.awrap((0,t.getDatabase)());case 3:return c=p.sent,p.next=6,regeneratorRuntime.awrap(c.sqlBatch([s,[l,[n,u,JSON.stringify(o)]]]));case 6:p.next=12;break;case 8:throw p.prev=8,p.t0=p.catch(0),console.log('[db] Error: '+p.t0.message),Error('Unable to write value and Etag for URL,'+n+', with error: '+p.t0.message);case 12:case"end":return p.stop()}},null,null,[[0,8]])},e.clearEtagForUrl=function(n){var o;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,regeneratorRuntime.awrap((0,t.getDatabase)());case 3:return o=u.sent,u.next=6,regeneratorRuntime.awrap(o.sqlBatch([s,[f,[n]]]));case 6:u.next=12;break;case 8:throw u.prev=8,u.t0=u.catch(0),console.log('[db] Error: '+u.t0.message),Error('Unable to read clear Etag for URL,'+n+', with error: '+u.t0.message);case 12:case"end":return u.stop()}},null,null,[[0,8]])};var t=r(d[0]);function n(t,n){return c(t)||u(t,n)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t,n){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],u=!0,c=!1,s=void 0;try{for(var l,p=t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(u=(l=p.next()).done)&&(o.push(l.value),!n||o.length!==n);u=!0);}catch(t){c=!0,s=t}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return o}}function c(t){if(Array.isArray(t))return t}var s="\n    CREATE TABLE IF NOT EXISTS cache (\n        url                      TEXT NOT NULL UNIQUE,\n        etag                     TEXT,\n        value                    TEXT\n    );\n    ",l="INSERT OR REPLACE INTO cache (url, etag, value) VALUES (?, ?, ?)",p="SELECT value FROM cache WHERE url = ?",E="SELECT etag FROM cache WHERE url = ?",f="UPDATE cache SET etag = null WHERE url = ?"},621,[622]);