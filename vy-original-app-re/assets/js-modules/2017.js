__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t,n=r(d[0]),o=r(d[1]),s=r(d[2]),u=r(d[3]),c=r(d[4]),l=(g=u.getGlobalObject(),(function(){function l(t){this.name=l.id,this._options=n.__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return l.prototype._instrumentConsole=function(){'console'in g&&['debug','info','warn','error','log','assert'].forEach(function(t){t in g.console&&u.fill(g.console,t,function(n){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var p={category:'console',data:{extra:{arguments:u.normalize(o,3)},logger:'console'},level:s.Severity.fromString(t),message:u.safeJoin(o,' ')};'assert'===t?!1===o[0]&&(p.message="Assertion failed: "+(u.safeJoin(o.slice(1),' ')||'console.assert'),p.data.extra.arguments=u.normalize(o.slice(1),3),l.addBreadcrumb(p,{input:o,level:t})):l.addBreadcrumb(p,{input:o,level:t}),n&&Function.prototype.apply.call(n,g.console,o)}})})},l.prototype._instrumentDOM=function(){'document'in g&&(g.document.addEventListener('click',c.breadcrumbEventHandler('click'),!1),g.document.addEventListener('keypress',c.keypressEventHandler(),!1),['EventTarget','Node'].forEach(function(t){var n=g[t]&&g[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty('addEventListener')&&(u.fill(n,'addEventListener',function(t){return function(n,o,s){return o&&o.handleEvent?('click'===n&&u.fill(o,'handleEvent',function(t){return function(n){return c.breadcrumbEventHandler('click')(n),t.call(this,n)}}),'keypress'===n&&u.fill(o,'handleEvent',function(t){return function(n){return c.keypressEventHandler()(n),t.call(this,n)}})):('click'===n&&c.breadcrumbEventHandler('click',!0)(this),'keypress'===n&&c.keypressEventHandler()(this)),t.call(this,n,o,s)}}),u.fill(n,'removeEventListener',function(t){return function(n,o,s){var u=o;try{u=u&&(u.__sentry_wrapped__||u)}catch(t){}return t.call(this,n,u,s)}}))}))},l.prototype._instrumentFetch=function(){u.supportsNativeFetch()&&u.fill(g,'fetch',function(t){return function(){for(var n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];var h,f=n[0],y='GET';'string'==typeof f?h=f:'Request'in g&&f instanceof Request?(h=f.url,f.method&&(y=f.method)):h=String(f),n[1]&&n[1].method&&(y=n[1].method);var _=o.getCurrentHub().getClient(),v=_&&_.getDsn();if(v){var b=new o.API(v).getStoreEndpoint();if(b&&-1!==h.indexOf(b))return'POST'===y&&n[1]&&n[1].body&&p(n[1].body),t.apply(g,n)}var E={method:u.isString(y)?y.toUpperCase():y,url:h};return t.apply(g,n).then(function(t){return E.status_code=t.status,l.addBreadcrumb({category:'fetch',data:E,type:'http'},{input:n,response:t}),t}).then(null,function(t){throw l.addBreadcrumb({category:'fetch',data:E,level:s.Severity.Error,type:'http'},{error:t,input:n}),t})}})},l.prototype._instrumentHistory=function(){var n=this;if(u.supportsHistory()){var o=function(n,o){var s=u.parseUrl(g.location.href),c=u.parseUrl(o),p=u.parseUrl(n);p.path||(p=s),t=o,s.protocol===c.protocol&&s.host===c.host&&(o=c.relative),s.protocol===p.protocol&&s.host===p.host&&(n=p.relative),l.addBreadcrumb({category:'navigation',data:{from:n,to:o}})},s=g.onpopstate;g.onpopstate=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l=g.location.href;if(o(t,l),s)return s.apply(n,u)},u.fill(g.history,'pushState',c),u.fill(g.history,'replaceState',c)}function c(n){return function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=s.length>2?s[2]:void 0;return c&&o(t,String(c)),n.apply(this,s)}}},l.prototype._instrumentXHR=function(){if('XMLHttpRequest'in g){var t=XMLHttpRequest.prototype;u.fill(t,'open',function(t){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var c=n[1];this.__sentry_xhr__={method:u.isString(n[0])?n[0].toUpperCase():n[0],url:n[1]};var l=o.getCurrentHub().getClient(),p=l&&l.getDsn();if(p){var h=new o.API(p).getStoreEndpoint();u.isString(c)&&h&&-1!==c.indexOf(h)&&(this.__sentry_own_request__=!0)}return t.apply(this,n)}}),u.fill(t,'send',function(t){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var h=this;function f(){if(4===h.readyState){if(h.__sentry_own_request__)return;try{h.__sentry_xhr__&&(h.__sentry_xhr__.status_code=h.status)}catch(t){}l.addBreadcrumb({category:'xhr',data:h.__sentry_xhr__,type:'http'},{xhr:h})}}h.__sentry_own_request__&&p(o[0]);return['onload','onerror','onprogress'].forEach(function(t){n(t,h)}),'onreadystatechange'in h&&'function'==typeof h.onreadystatechange?u.fill(h,'onreadystatechange',function(t){return c.wrap(t,{mechanism:{data:{function:'onreadystatechange',handler:t&&t.name||'<anonymous>'},handled:!0,type:'instrument'}},f)}):h.onreadystatechange=f,t.apply(this,o)}})}function n(t,n){t in n&&'function'==typeof n[t]&&u.fill(n,t,function(n){return c.wrap(n,{mechanism:{data:{function:t,handler:n&&n.name||'<anonymous>'},handled:!0,type:'instrument'}})})}},l.addBreadcrumb=function(t,n){o.getCurrentHub().getIntegration(l)&&o.getCurrentHub().addBreadcrumb(t,n)},l.prototype.setupOnce=function(){this._options.console&&this._instrumentConsole(),this._options.dom&&this._instrumentDOM(),this._options.xhr&&this._instrumentXHR(),this._options.fetch&&this._instrumentFetch(),this._options.history&&this._instrumentHistory()},l.id='Breadcrumbs',l})());function p(t){try{var n=JSON.parse(t);l.addBreadcrumb({category:'sentry',event_id:n.event_id,level:n.level||s.Severity.fromString('error'),message:u.getEventDescription(n)},{event:n})}catch(t){u.logger.error('Error while adding sentry type breadcrumb')}}e.Breadcrumbs=l},2017,[1972,1970,1966,1975,2013]);