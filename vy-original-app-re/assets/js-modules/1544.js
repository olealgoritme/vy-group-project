__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=v();if(n&&n.has(t))return n.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var l=c?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=t[s]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=r(d[2]),c=k(r(d[3])),s=k(r(d[4])),l=k(r(d[5])),u=k(r(d[6])),f=k(r(d[7])),p=r(d[8]),h=k(r(d[9])),y=k(r(d[10]));function k(t){return t&&t.__esModule?t:{default:t}}function v(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}function b(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function w(t,n){for(var o=0;o<n.length;o++){var c=n[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&j(t,n)}function j(t,n){return(j=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var E=(function(o){function k(){var t,n,o,c;b(this,k);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=this,(n=!(c=(t=O(k)).call.apply(t,[this].concat(l)))||"object"!=typeof c&&"function"!=typeof c?_(o):c).state={showInspection:!1,showInspectionForTicket:null},n}var v,j,E;return I(k,t.Component),v=k,(j=[{key:"handleInspectionClicked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(n){return{showInspection:!n.showInspection,showInspectionForTicket:t}})}},{key:"componentDidUpdate",value:function(t,n){if(n.showInspection){var o=this.state.showInspectionForTicket;o&&!(0,p.isActive)(o)&&this.setState({showInspection:!1,showInspectionForTicket:null})}}},{key:"render",value:function(){var o=this,p=this.props,k=p.tickets,v=void 0===k?[]:k,b=p.footer,w=p.navigation,_=p.blankSlate,O=p.isRefreshing,I=p.onRefresh,j=p.onTicketStateChange,E=p.tickerMessages,P=this.state,S=P.showInspection,T=P.showInspectionForTicket;return t.default.createElement(n.View,{style:l.default.container},E&&E.ticketsMessage&&t.default.createElement(y.default,{tickerMessage:E.ticketsMessage,containerStyle:{marginHorizontal:18}}),t.default.createElement(n.SectionList,{style:l.default.ticketList,contentContainerStyle:l.default.ticketListWithSections,keyExtractor:function(t){return t.ticketId},renderItem:function(n){var s=n.item;return t.default.createElement(c.default,{ticket:s,navigation:w,onTicketStateChange:function(t){return j(t)},onInspectionClicked:function(t){o.handleInspectionClicked(t)}})},refreshControl:t.default.createElement(n.RefreshControl,{refreshing:O,onRefresh:I}),renderSectionHeader:function(n){return t.default.createElement(u.default,n)},renderSectionFooter:function(n){return t.default.createElement(f.default,n)},sections:C(v),ListEmptyComponent:_,ListFooterComponent:b,acessible:!0,accessibilityLabel:(0,h.default)('ticket_list_accessibility_label'),stickySectionHeadersEnabled:!1,keyboardShouldPersistTaps:"always"}),t.default.createElement(s.default,{key:T&&T.ticketId,ticket:T,location:"billettliste",isVisible:S,onClose:function(){return o.handleInspectionClicked(T)}}))}}])&&w(v.prototype,j),E&&w(v,E),k})(),C=function(t){var n=[];return t.filter(p.isActive).length>0&&n.push({title:(0,h.default)('active_journeys'),data:t.filter(p.isActive)}),t.filter(p.isPending).length>0&&n.push({title:(0,h.default)('pending_journeys'),data:t.filter(p.isPending)}),t.filter(p.isExpired).length>0&&n.push({title:(0,h.default)('expired_journeys'),data:t.filter(p.isExpired)}),n},P=(0,o.withNavigation)(E);e.default=P},1544,[7,10,435,1545,1567,1627,1628,1629,669,673,1458]);