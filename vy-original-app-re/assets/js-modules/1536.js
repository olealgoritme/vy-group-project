__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=E();if(n&&n.has(t))return n.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var u=l?Object.getOwnPropertyDescriptor(t,c):null;u&&(u.get||u.set)?Object.defineProperty(o,c,u):o[c]=t[c]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=y(r(d[2])),l=y(r(d[3])),c=r(d[4]),u=r(d[5]),s=r(d[6]),f=r(d[7]),p=y(r(d[8]));function y(t){return t&&t.__esModule?t:{default:t}}function E(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return E=function(){return t},t}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function b(t){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(t){if(Array.isArray(t)){for(var n=0,o=new Array(t.length);n<t.length;n++)o[n]=t[n];return o}}var k={ticket:{backgroundColor:f.colors.white,marginVertical:6,borderColor:f.colors.actionGreen,padding:12,paddingHorizontal:18,justifyContent:'space-between'},manualTicket:{flexDirection:'row',alignItems:'center'},buttonIcon:{marginRight:12,width:18,height:18}},T=function(o){var l=o.onPress;return t.createElement(n.TouchableOpacity,{onPress:l},t.createElement(c.Card,{flat:!0,style:[k.ticket,k.manualTicket]},t.createElement(n.Image,{style:k.buttonIcon,resizeMode:"contain",source:s.addPlus}),t.createElement(n.View,null,t.createElement(c.MediumTextBold,null,(0,p.default)('manual_extra_ticket')),t.createElement(c.MediumText,null,(0,p.default)('manual_extra_ticket_long')))))},w=function(l){var s=l.ticket,f=l.isCurrent,y=l.onPress;return t.createElement(n.TouchableOpacity,{onPress:y},t.createElement(c.Card,{flat:!0,style:[k.ticket,f&&{borderWidth:2}]},t.createElement(c.MediumTextBold,null,s.description+', '+s.passengerDescription),t.createElement(c.MediumText,null,s.zoneDescription),t.createElement(c.MediumText,null,(0,p.default)('to').toLowerCase()+' '+(0,o.default)(s.validTo).format((0,u.getDateFormatWithDayOfWeek)()))))},P=function(o){var u,s=o.isLoadingProducts,f=o.tickets,y=o.products,E=o.currentProduct,k=o.changeCurrentProduct,P=o.navigateToManualExtraZones,O=(null==y?void 0:y.length)&&[].concat(h(u=f)||b(u)||v(),[{manualTicket:!0}]);return t.createElement(t.Fragment,null,t.createElement(c.SmallText,{mediumGrey:!0},(0,p.default)('supplementary_extra_ticket')+':'),s&&t.createElement(n.View,{style:{marginVertical:24,alignItems:'center'}},t.createElement(c.ActivityDotsIndicator,{style:{marginLeft:-8}})),!s&&(null==y?void 0:y.length)>0&&t.createElement(n.FlatList,{horizontal:!0,showsHorizontalScrollIndicator:!1,keyboardShouldPersistTaps:"always",ListEmptyComponent:t.createElement(n.View,null),data:O,keyExtractor:function(t,n){return n.toString()},ItemSeparatorComponent:function(){return t.createElement(n.View,{style:{width:18}})},renderItem:function(n){var o=n.item;if(o.manualTicket)return t.createElement(T,{onPress:function(){l.default.LOCALOPERATORS_NAVIGATION_EVENT({destination:'manual extra zones'}),P()}});var c=y.find(function(t){return o.linkedProducts.includes(t.id)}),u=(null==c?void 0:c.id)===(null==E?void 0:E.id);return t.createElement(w,{ticket:o,isCurrent:u,onPress:function(){return k(c)}})},contentContainerStyle:{marginTop:6,paddingHorizontal:24},style:{marginHorizontal:-24}}))};e.default=P},1536,[7,10,628,1294,653,670,675,414,1472]);