__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=l(r(d[0])),t=l(r(d[1])),n=r(d[2]);function l(o){return o&&o.__esModule?o:{default:o}}function s(){return(s=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(o[l]=n[l])}return o}).apply(this,arguments)}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(o,t){if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(o)||"[object Arguments]"===Object.prototype.toString.call(o)){var n=[],l=!0,s=!1,c=void 0;try{for(var u,p=o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(l=(u=p.next()).done)&&(n.push(u.value),!t||n.length!==t);l=!0);}catch(o){s=!0,c=o}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}return n}}function p(o){if(Array.isArray(o))return o}function f(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function b(o,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}function y(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function h(o){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function S(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&v(o,t)}function v(o,t){return(v=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o})(o,t)}function T(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,l)}return n}function O(o){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){k(o,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(n,t))})}return o}function k(o,t,n){return t in o?Object.defineProperty(o,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[t]=n,o}var w=(0,r(d[3]).isIphoneX)()?83:49,_=['keyboardWillShow','keyboardDidShow','keyboardWillHide','keyboardDidHide','keyboardWillChangeFrame','keyboardDidChangeFrame'],I=function(o){return'on'+o[0].toUpperCase()+o.substring(1)},R=_.reduce(function(o,n){return O({},o,k({},I(n),t.default.func))},{});_.reduce(function(o,t){return O({},o,k({},I(t),Function))},{});var x={enableOnAndroid:!1,contentContainerStyle:void 0,enableAutomaticScroll:!0,extraHeight:75,extraScrollHeight:0,enableResetScrollToCoords:!0,keyboardOpeningTime:250,viewIsInsideTabBar:!1,refPropName:'ref',extractNativeRef:function(o){return o.getNode?o.getNode():o}};function P(l){var v,T,P,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=O({},x,{},C);return T=v=(function(t){function v(o){var t,l,s;f(this,v),l=this,s=h(v).call(this,o),(t=!s||"object"!=typeof s&&"function"!=typeof s?y(l):s).getScrollResponder=function(){return t._rnkasv_keyboardView&&t._rnkasv_keyboardView.getScrollResponder&&t._rnkasv_keyboardView.getScrollResponder()},t.scrollToPosition=function(o,n){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=t.getScrollResponder();s&&s.scrollResponderScrollTo({x:o,y:n,animated:l})},t.scrollToEnd=function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.getScrollResponder();n&&n.scrollResponderScrollToEnd({animated:o})},t.scrollForExtraHeightOnAndroid=function(o){t.scrollToPosition(0,t.position.y+o,!0)},t.scrollToFocusedInput=function(o,n,l){void 0===n&&(n=t.props.extraHeight||0),void 0===l&&(l=t.props.keyboardOpeningTime||0),setTimeout(function(){if(t.mountedComponent){var l=t.getScrollResponder();l&&l.scrollResponderScrollNativeHandleToKeyboard(o,n,!0)}},l)},t.scrollIntoView=function(o){var n,l,s,f,b,y,h,S,v,T,O=arguments;return regeneratorRuntime.async(function(k){for(;;)switch(k.prev=k.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:{},t._rnkasv_keyboardView&&o){k.next=3;break}return k.abrupt("return");case 3:return k.next=5,regeneratorRuntime.awrap(Promise.all([t._measureElement(t._rnkasv_keyboardView),t._measureElement(o)]));case 5:l=k.sent,_=2,s=p(w=l)||u(w,_)||c(),f=s[0],b=s[1],y=n.getScrollPosition||t._defaultGetScrollPosition,h=y(f,b,t.position),S=h.x,v=h.y,T=h.animated,t.scrollToPosition(S,v,T);case 12:case"end":return k.stop()}var w,_})},t._defaultGetScrollPosition=function(o,t,n){return{x:0,y:Math.max(0,t.y-o.y+n.y),animated:!0}},t._measureElement=function(o){var t=(0,n.findNodeHandle)(o);return new Promise(function(o){n.UIManager.measureInWindow(t,function(t,n,l,s){o({x:t,y:n,width:l,height:s})})})},t._updateKeyboardSpace=function(o){if(t.props.enableAutomaticScroll){var l=o.endCoordinates.height+t.props.extraScrollHeight;t.props.viewIsInsideTabBar&&(l-=w),t.setState({keyboardSpace:l});var s=n.TextInput.State.currentlyFocusedField(),c=t.getScrollResponder();if(!s||!c)return;n.UIManager.viewIsDescendantOf(s,c.getInnerViewNode(),function(c){c&&n.UIManager.measureInWindow(s,function(c,u,p,f){var b=u+f,y=o.endCoordinates.screenY,h=t.props.extraScrollHeight+t.props.extraHeight;'ios'===n.Platform.OS?b>y-h&&t._scrollToFocusedInputWithNodeHandle(s):b>y?(l-=b-y,t.setState({keyboardSpace:l}),t.scrollForExtraHeightOnAndroid(h)):b>y-h&&t.scrollForExtraHeightOnAndroid(h-(y-b))})})}t.props.resetScrollToCoords||t.defaultResetScrollToCoords||(t.defaultResetScrollToCoords=t.position)},t._resetKeyboardSpace=function(){var o=t.props.viewIsInsideTabBar?w:0;t.setState({keyboardSpace:o}),!1!==t.props.enableResetScrollToCoords?t.props.resetScrollToCoords?t.scrollToPosition(t.props.resetScrollToCoords.x,t.props.resetScrollToCoords.y,!0):t.defaultResetScrollToCoords?(t.scrollToPosition(t.defaultResetScrollToCoords.x,t.defaultResetScrollToCoords.y,!0),t.defaultResetScrollToCoords=null):t.scrollToPosition(0,0,!0):t.defaultResetScrollToCoords=null},t._scrollToFocusedInputWithNodeHandle=function(o,l,s){void 0===l&&(l=t.props.extraHeight);var c=(0,n.findNodeHandle)(o);t.scrollToFocusedInput(c,l+t.props.extraScrollHeight,void 0!==s?s:t.props.keyboardOpeningTime||0)},t._handleOnScroll=function(o){t.position=o.nativeEvent.contentOffset},t._handleRef=function(o){t._rnkasv_keyboardView=o?E.extractNativeRef(o):o,t.props.innerRef&&t.props.innerRef(t._rnkasv_keyboardView)},t.update=function(){var o=n.TextInput.State.currentlyFocusedField(),l=t.getScrollResponder();o&&l&&t._scrollToFocusedInputWithNodeHandle(o)},t.keyboardWillShowEvent=void 0,t.keyboardWillHideEvent=void 0,t.callbacks={},t.position={x:0,y:0},t.defaultResetScrollToCoords=null;var b=o.viewIsInsideTabBar?w:0;return t.state={keyboardSpace:b},t}var T,O,R;return S(v,o.default.Component),T=v,(O=[{key:"componentDidMount",value:function(){var o=this;this.mountedComponent=!0,'ios'===n.Platform.OS?(this.keyboardWillShowEvent=n.Keyboard.addListener('keyboardWillShow',this._updateKeyboardSpace),this.keyboardWillHideEvent=n.Keyboard.addListener('keyboardWillHide',this._resetKeyboardSpace)):'android'===n.Platform.OS&&this.props.enableOnAndroid&&(this.keyboardWillShowEvent=n.Keyboard.addListener('keyboardDidShow',this._updateKeyboardSpace),this.keyboardWillHideEvent=n.Keyboard.addListener('keyboardDidHide',this._resetKeyboardSpace)),_.forEach(function(t){var l=I(t);o.props[l]&&(o.callbacks[t]=n.Keyboard.addListener(t,o.props[l]))})}},{key:"componentDidUpdate",value:function(o){if(this.props.viewIsInsideTabBar!==o.viewIsInsideTabBar){var t=this.props.viewIsInsideTabBar?w:0;this.state.keyboardSpace!==t&&this.setState({keyboardSpace:t})}}},{key:"componentWillUnmount",value:function(){this.mountedComponent=!1,this.keyboardWillShowEvent&&this.keyboardWillShowEvent.remove(),this.keyboardWillHideEvent&&this.keyboardWillHideEvent.remove(),Object.values(this.callbacks).forEach(function(o){return o.remove()})}},{key:"render",value:function(){var t,c=this.props,u=c.enableOnAndroid,p=c.contentContainerStyle,f=c.onScroll;'android'===n.Platform.OS&&u&&(t=[].concat(p).concat({paddingBottom:((p||{}).paddingBottom||0)+this.state.keyboardSpace}));var b=k({},E.refPropName,this._handleRef);return o.default.createElement(l,s({},b,{keyboardDismissMode:"interactive",contentInset:{bottom:this.state.keyboardSpace},automaticallyAdjustContentInsets:!1,showsVerticalScrollIndicator:!0,scrollEventThrottle:1},this.props,{contentContainerStyle:t||p,keyboardSpace:this.state.keyboardSpace,getScrollResponder:this.getScrollResponder,scrollToPosition:this.scrollToPosition,scrollToEnd:this.scrollToEnd,scrollForExtraHeightOnAndroid:this.scrollForExtraHeightOnAndroid,scrollToFocusedInput:this.scrollToFocusedInput,scrollIntoView:this.scrollIntoView,resetKeyboardSpace:this._resetKeyboardSpace,handleOnScroll:this._handleOnScroll,update:this.update,onScroll:n.Animated.forkEvent(f,this._handleOnScroll)}))}}])&&b(T.prototype,O),R&&b(T,R),v})(),v.displayName="KeyboardAware"+((P=l)&&(P.displayName||P.name)||'Component'),v.propTypes=O({viewIsInsideTabBar:t.default.bool,resetScrollToCoords:t.default.shape({x:t.default.number.isRequired,y:t.default.number.isRequired}),enableResetScrollToCoords:t.default.bool,enableAutomaticScroll:t.default.bool,extraHeight:t.default.number,extraScrollHeight:t.default.number,keyboardOpeningTime:t.default.number,onScroll:t.default.oneOfType([t.default.func,t.default.object]),update:t.default.func,contentContainerStyle:t.default.any,enableOnAndroid:t.default.bool,innerRef:t.default.func},R),v.defaultProps={enableAutomaticScroll:E.enableAutomaticScroll,extraHeight:E.extraHeight,extraScrollHeight:E.extraScrollHeight,enableResetScrollToCoords:E.enableResetScrollToCoords,keyboardOpeningTime:E.keyboardOpeningTime,viewIsInsideTabBar:E.viewIsInsideTabBar,enableOnAndroid:E.enableOnAndroid},T}var C=function(o){return'object'==typeof o?function(t){return P(t,o)}:P(o)};e.default=C},1274,[7,48,10,1275]);