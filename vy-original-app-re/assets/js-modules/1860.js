__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=v();if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}o.default=t,n&&n.set(t,o);return o})(r(d[0])),n=r(d[1]),o=r(d[2]),u=y(r(d[3])),c=r(d[4]),l=y(r(d[5])),s=r(d[6]),f=y(r(d[7])),p=r(d[8]),h=r(d[9]);function y(t){return t&&t.__esModule?t:{default:t}}function v(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}function b(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function O(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&j(t,n)}function j(t,n){return(j=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var C=(function(f){function y(t){var n,o,u;return b(this,y),o=this,(n=!(u=_(y).call(this,t))||"object"!=typeof u&&"function"!=typeof u?w(o):u).onSuccess=n.onSuccess.bind(w(n)),n.onError=n.onError.bind(w(n)),n.onCancel=n.onCancel.bind(w(n)),n.state={authorizeCard:s.NOT_STARTED},n}var v,j,C;return E(y,t.Component),v=y,(j=[{key:"onSuccess",value:function(){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.props.navigation.state.params,n.prev=1,this.setState({authorizeCard:s.LOADING}),n.next=5,regeneratorRuntime.awrap((0,c.authorizeNewPaymentCard)(t.userId,t.recurringPaymentId));case 5:this.props.navigation.goBack(null),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),this.onError(n.t0);case 11:case"end":return n.stop()}},null,this,[[1,8]])}},{key:"onCancel",value:function(){this.props.navigation.goBack(null)}},{key:"onError",value:function(t){p.remoteLogger.error(p.sources.GENERAL,'Error adding a new card in the Nets terminal',{error:t}),n.Alert.alert((0,l.default)('error'),(0,h.getMessageFromErrorIfPresent)(t)||(0,l.default)('error_adding_card')),this.props.navigation.goBack(null)}},{key:"isAwaitingCardAuthorization",value:function(){return(0,s.IS_LOADING)(this.state.authorizeCard)}},{key:"render",value:function(){return this.isAwaitingCardAuthorization()?t.createElement(P,null):t.createElement(o.ScreenView,null,t.createElement(u.default,{url:this.props.navigation.state.params.url,onSuccess:this.onSuccess,onFailure:this.onError,onCancel:this.onCancel}))}}])&&O(v.prototype,j),C&&O(v,C),y})();C.navigationOptions=function(){return{headerTitle:(0,l.default)('nets_terminal_title')}};var P=function(){return t.createElement(n.View,{style:{flex:1,justifyContent:'center'}},t.createElement(f.default,null))},k=C;e.default=k},1860,[7,10,653,1720,642,1842,1830,1184,633,636]);